{"version":3,"sources":["webpack:///x-bubbles.min.js","webpack:///webpack/bootstrap 09a7c712d4f1611009da","webpack:///./index.js","webpack:///./context.js","webpack:///./core/events.js","webpack:///../~/raf/index.js","webpack:///../~/performance-now/lib/performance-now.js","webpack:///../~/process/browser.js","webpack:///./polyfills/CustomEventCommon.js","webpack:///./core/constant.js","webpack:///./core/text.js","webpack:///./core/bubble.js","webpack:///./core/utils.js","webpack:///./core/bubbleset.js","webpack:///./core/drag.js","webpack:///./core/drag/native.js","webpack:///./core/select.js","webpack:///./core/drag/common.js","webpack:///./core/drag/bubbles.png","webpack:///./core/drag/mouse.js","webpack:///../.modernizrrc","webpack:///./core/editor.js","webpack:///./core/cursor.js","webpack:///./core/events/dblclick.js","webpack:///./core/events/click.js"],"names":["XBubbles","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","optionsPrepare","options","typeBubbleFormation","bubbleFormation","typeBubbleDeformation","bubbleDeformation","typeDraggable","draggable","Function","_typeof","Symbol","iterator","obj","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","context","events","drag","editor","bubble","bubbleset","text","cursor","dblclick","click","create","HTMLDivElement","createdCallback","value","this","setAttribute","fireChange","throttle","fireEdit","fireInput","addEventListener","prevent","attachedCallback","init","bubbling","detachedCallback","removeEventListener","destroy","name","_options","classBubble","separator","ending","begining","dataset","items","get","getBubbles","setContent","data","firstChild","removeChild","html2text","appendChild","document","createTextNode","restore","addBubble","bubbleText","nodeBubble","text2bubble","removeBubble","contains","editBubble","edit","registerElement","extends","eval","scrollX","html","documentElement","body","scrollLeft","clientLeft","scrollY","scrollTop","clientTop","dispatch","element","params","undefined","dispatchEvent","Custom","raf","CustomEventCommon","_require","EV","pageX","event","clientX","pageY","clientY","one","eventName","userCallback","callback","on","off","cancelBubble","returnValue","stopPropagation","preventDefault","BUBBLE_EDIT","bubbles","cancelable","detail","CHANGE","textRange","currentTextRange","editText","textClean","toString","_bubbleValue","BUBBLE_INPUT","animationCallback","apply","CustomEvent","global","now","root","window","vendors","suffix","caf","last","queue","frameDuration","_now","next","Math","max","setTimeout","cp","slice","cancelled","e","round","push","handle","fn","cancel","polyfill","requestAnimationFrame","cancelAnimationFrame","process","getNanoSeconds","hrtime","loadTime","performance","hr","Date","getTime","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","concat","queueIndex","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","title","browser","env","argv","version","versions","addListener","once","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","doc","protoEvent","Event","issetCustomEvent","Boolean","createEvent","stopImmediatePropagation","immediatePropagationStopped","evt","initCustomEvent","initEvent","KEY","a","Backspace","Bottom","Cmd","Comma","Enter","Esc","Left","Right","Semicolon","Space","Tab","Top","CLS","DRAGSTART","DROPZONE","nodeSet","selection","getSelection","range","removeAllRanges","addRange","replace","pointNode","focusNode","nodeType","Node","TEXT_NODE","anchorNode","createRange","startNode","endNode","item","previousSibling","nextSibling","setStartBefore","setEndAfter","remove","createZws","node","rangeCount","anchor","createElement","getRangeAt","surroundContents","parentNode","replaceChild","collapse","replaceString","textNode","nodeValue","arrowLeft","extend","_selectionCorrect","selectionCorrect","startOffset","endOffset","isCollapsed","substring","checkZws","setStart","setEnd","arrowRight","_selectionCorrect2","DOMContainer","implementation","createHTMLDocument","innerText","trim","selectAll","fromNode","toNode","hasBubbles","dataText","TEXT_ZWS","REG_ZWS","test","String","REG_REPLACE_NON_PRINTABLE","anchorOffset","focusOffset","min","position","compareDocumentPosition","DOCUMENT_POSITION_PRECEDING","isBubbleNode","ELEMENT_NODE","hasAttribute","rangeParams","textFake","insertBefore","canUseDrag","wrap","escape","classes","split","classList","add","ranges","getBubbleRanges","nodes","forEach","deleteContents","textParts","map","trimIterator","filter","nonEmptyIterator","reduce","parts","str","parseFragmentByEnding","parseFragmentByBeginning","fragment","createDocumentFragment","textPart","insertNode","children","childNodes","setEndBefore","reg","lastIndex","loop","exec","res","index","unescapeHtmlChar","chr","htmlUnescapes","escapeHtmlChar","htmlEscapes","&","<",">","\"","'","`","&amp;","&lt;","&gt;","&quot;","&#39;","&#96;","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","reHasUnescapedHtml","reIEUA","unescape","navigator","userAgent","lastBubble","querySelector","headBubble","querySelectorAll","findBubbleLeft","DOCUMENT_POSITION_FOLLOWING","closestNodeSet","getAttribute","closestNodeBubble","prevBubble","nextBubble","native","mouse","onDragstart","currentDragSet","select","dataTransfer","effectAllowed","setData","list","setDragImage","getDragImage","DRAG_IMG_WIDTH","onDrop","focus","onDragover","dropEffect","onDragenter","onDragleave","onDragend","_require2","set","uniq","clear","headList","lastList","startRangeSelect","setSelected","all","PATH_NOT_SELECTED","PATH_SELECTED","has","head","removeAttribute","toggleUniq","isSelected","removeSelected","dragImage","Image","src","onMousedown","__drag__","onMouseup","bind","onMousemove","onScroll","nodeOffsetX","offsetLeft","nodeOffsetY","offsetTop","x","y","currentMoveSet","currentDragElement","dragSet","moveElement","cloneNode","style","cssText","Modernizr","csstransforms3d","transform","csstransforms","top","left","is","type","testRunner","featureNames","feature","aliasIdx","result","nameIdx","featureName","featureNameSplit","featureIdx","tests","toLowerCase","aliases","join","substr","indexOf","isSVG","createElementNS","getBody","fake","injectElementWithStyles","rule","testnames","ret","docOverflow","mod","div","parseInt","styleSheet","background","overflow","docElement","offsetHeight","domToCSS","m1","nativeTestProps","props","CSS","supports","conditionText","getComputedStyle","cssToDOM","m2","toUpperCase","testProps","prefixed","skipValueTest","cleanElems","afterInit","mStyle","modElem","propsLength","prop","before","elems","shift","fnBind","that","testDOMProps","elem","testPropsAll","ucProp","charAt","cssomPrefixes","testAllProps","ModernizrProto","_version","_config","classPrefix","enableClasses","enableJSClass","usePrefixes","_q","cb","self","addTest","addAsyncTest","omPrefixes","_cssomPrefixes","nodeName","unshift","domPrefixes","_domPrefixes","testStyles","newSyntax","oldSyntax","usePrefix","mq","defaultStyle","offsetWidth","keyup","code","charCode","keyCode","isPrintableChar","currentTarget","keypress","keydown","metaKey","ctrlKey","enable","backSpace","shiftKey","begin","normalize","paste","clipboardData","contentType","getData","kind","some","getAsString","blur","basis","restoreBasis","fakeText","hasChildNodes","lastNode","isEqualNode"],"mappings":"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","file":"x-bubbles.min.js","sourcesContent":["var XBubbles =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar context = __webpack_require__(1);\n\tvar events = __webpack_require__(2);\n\tvar drag = __webpack_require__(12);\n\tvar editor = __webpack_require__(19);\n\tvar bubble = __webpack_require__(9);\n\tvar bubbleset = __webpack_require__(11);\n\tvar text = __webpack_require__(8);\n\tvar cursor = __webpack_require__(20);\n\t\n\tvar dblclick = __webpack_require__(21);\n\tvar click = __webpack_require__(22);\n\t\n\tvar XBubbles = Object.create(HTMLDivElement.prototype, {\n\t    createdCallback: {\n\t        value: function value() {\n\t            this.setAttribute('contenteditable', 'true');\n\t            this.setAttribute('spellcheck', 'false');\n\t\n\t            this.fireChange = events.throttle(events.fireChange);\n\t            this.fireEdit = events.throttle(events.fireEdit);\n\t            this.fireInput = events.throttle(events.fireInput);\n\t\n\t            this.addEventListener('resize', events.prevent);\n\t            this.addEventListener('resizestart', events.prevent);\n\t            this.addEventListener('mscontrolselect', events.prevent);\n\t        }\n\t    },\n\t\n\t    attachedCallback: {\n\t        value: function value() {\n\t            this.addEventListener('click', click);\n\t            this.addEventListener('dblclick', dblclick);\n\t\n\t            drag.init(this);\n\t            editor.init(this);\n\t            bubble.bubbling(this);\n\t        }\n\t    },\n\t\n\t    detachedCallback: {\n\t        value: function value() {\n\t            this.removeEventListener('click', click);\n\t            this.removeEventListener('dblclick', dblclick);\n\t\n\t            drag.destroy(this);\n\t            editor.destroy(this);\n\t        }\n\t    },\n\t\n\t    /*\n\t    attributeChangedCallback: {\n\t        value: function (name, prevValue, value) {}\n\t    },\n\t    */\n\t\n\t    options: {\n\t        value: function value(name, _value) {\n\t            if (!this._options) {\n\t                this._options = _extends({\n\t                    classBubble: 'bubble',\n\t                    draggable: true,\n\t                    separator: /[,;]/,\n\t                    ending: null, // /\\@ya\\.ru/g;\n\t                    begining: null,\n\t                    bubbleFormation: function bubbleFormation() {},\n\t                    bubbleDeformation: function bubbleDeformation() {}\n\t                }, this.dataset);\n\t\n\t                optionsPrepare(this._options);\n\t            }\n\t\n\t            if (typeof _value !== 'undefined') {\n\t                this._options[name] = _value;\n\t                optionsPrepare(this._options);\n\t            } else {\n\t                return this._options[name];\n\t            }\n\t        }\n\t    },\n\t\n\t    items: {\n\t        get: function get() {\n\t            return bubbleset.getBubbles(this);\n\t        }\n\t    },\n\t\n\t    setContent: {\n\t        value: function value(data) {\n\t            while (this.firstChild) {\n\t                this.removeChild(this.firstChild);\n\t            }\n\t\n\t            data = text.html2text(data);\n\t            this.appendChild(context.document.createTextNode(data));\n\t            bubble.bubbling(this);\n\t            cursor.restore(this);\n\t        }\n\t    },\n\t\n\t    addBubble: {\n\t        value: function value(bubbleText, data) {\n\t            var nodeBubble = bubble.create(this, bubbleText, data);\n\t\n\t            if (!nodeBubble) {\n\t                return false;\n\t            }\n\t\n\t            if (text.text2bubble(this, nodeBubble)) {\n\t                cursor.restore(this);\n\t                return true;\n\t            }\n\t\n\t            return false;\n\t        }\n\t    },\n\t\n\t    removeBubble: {\n\t        value: function value(nodeBubble) {\n\t            if (this.contains(nodeBubble)) {\n\t                this.removeChild(nodeBubble);\n\t                this.fireChange();\n\t                return true;\n\t            }\n\t\n\t            return false;\n\t        }\n\t    },\n\t\n\t    editBubble: {\n\t        value: function value(nodeBubble) {\n\t            if (this.contains(nodeBubble)) {\n\t                return bubble.edit(this, nodeBubble);\n\t            }\n\t\n\t            return false;\n\t        }\n\t    }\n\t});\n\t\n\tmodule.exports = context.document.registerElement('x-bubbles', {\n\t    extends: 'div',\n\t    prototype: XBubbles\n\t});\n\t\n\tfunction optionsPrepare(options) {\n\t    var typeBubbleFormation = _typeof(options.bubbleFormation);\n\t    var typeBubbleDeformation = _typeof(options.bubbleDeformation);\n\t    var typeDraggable = _typeof(options.draggable);\n\t\n\t    switch (typeBubbleFormation) {\n\t        case 'string':\n\t            options.bubbleFormation = new Function('wrap', '(function(wrap) { ' + options.bubbleFormation + '(wrap); }(wrap));');\n\t            break;\n\t        case 'function':\n\t            break;\n\t        default:\n\t            options.bubbleFormation = function () {};\n\t    }\n\t\n\t    switch (typeBubbleDeformation) {\n\t        case 'string':\n\t            options.bubbleDeformation = new Function('wrap', 'return (function(wrap) { return ' + options.bubbleDeformation + '(wrap); }(wrap));');\n\t            break;\n\t        case 'function':\n\t            break;\n\t        default:\n\t            options.bubbleDeformation = function () {};\n\t    }\n\t\n\t    switch (typeDraggable) {\n\t        case 'string':\n\t            options.draggable = options.draggable === 'true' || options.draggable === 'on';\n\t            break;\n\t        case 'boolean':\n\t            break;\n\t        default:\n\t            options.draggable = true;\n\t    }\n\t}\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function () {\n\t    /* eslint no-eval: 0 */\n\t    return this || (1, eval)('this');\n\t}();\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/**\n\t * @module x-bubbles/event\n\t */\n\t\n\tvar raf = __webpack_require__(3);\n\tvar context = __webpack_require__(1);\n\tvar CustomEventCommon = __webpack_require__(6);\n\t\n\tvar _require = __webpack_require__(7);\n\t\n\tvar EV = _require.EV;\n\t\n\tvar text = __webpack_require__(8);\n\t\n\texports.scrollX = scrollX;\n\texports.scrollY = scrollY;\n\t\n\texports.pageX = function (event) {\n\t    return event.pageX === null && event.clientX !== null ? event.clientX + scrollX() : event.pageX;\n\t};\n\t\n\texports.pageY = function (event) {\n\t    return event.pageY === null && event.clientY !== null ? event.clientY + scrollY() : event.pageY;\n\t};\n\t\n\texports.one = function (target, eventName, userCallback) {\n\t    return target.addEventListener(eventName, function callback(event) {\n\t        target.removeEventListener(eventName, callback);\n\t        userCallback(event);\n\t    });\n\t};\n\t\n\texports.on = function (target, eventName, userCallback) {\n\t    return target.addEventListener(eventName, userCallback);\n\t};\n\t\n\texports.off = function (target, eventName, userCallback) {\n\t    return target.removeEventListener(eventName, userCallback);\n\t};\n\t\n\texports.prevent = function (event) {\n\t    event.cancelBubble = true;\n\t    event.returnValue = false;\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    return false;\n\t};\n\t\n\texports.fireEdit = function (nodeBubble) {\n\t    dispatch(this, EV.BUBBLE_EDIT, {\n\t        bubbles: false,\n\t        cancelable: false,\n\t        detail: { data: nodeBubble }\n\t    });\n\t};\n\t\n\texports.fireChange = function () {\n\t    dispatch(this, EV.CHANGE, {\n\t        bubbles: false,\n\t        cancelable: false\n\t    });\n\t};\n\t\n\texports.fireInput = function () {\n\t    var textRange = text.currentTextRange();\n\t    var editText = textRange && text.textClean(textRange.toString()) || '';\n\t\n\t    if (this._bubbleValue !== editText) {\n\t        this._bubbleValue = editText;\n\t\n\t        dispatch(this, EV.BUBBLE_INPUT, {\n\t            bubbles: false,\n\t            cancelable: false,\n\t            detail: { data: editText }\n\t        });\n\t    }\n\t};\n\t\n\texports.throttle = function (callback) {\n\t    var throttle = 0;\n\t    var animationCallback = function animationCallback() {\n\t        throttle = 0;\n\t    };\n\t\n\t    return function () {\n\t        if (throttle) {\n\t            return;\n\t        }\n\t\n\t        throttle = raf(animationCallback);\n\t\n\t        callback.apply(this, arguments);\n\t    };\n\t};\n\t\n\tfunction scrollX() {\n\t    var html = context.document.documentElement;\n\t    var body = context.document.body;\n\t    return (html && html.scrollLeft || body && body.scrollLeft || 0) - (html.clientLeft || 0);\n\t}\n\t\n\tfunction scrollY() {\n\t    var html = context.document.documentElement;\n\t    var body = context.document.body;\n\t    return (html && html.scrollTop || body && body.scrollTop || 0) - (html.clientTop || 0);\n\t}\n\t\n\t/**\n\t * Designer events.\n\t *\n\t * @example\n\t * const { Custom } = require('event');\n\t *\n\t * new Custom('custom-event', {\n\t *     bubbles: true,\n\t *     cancelable: true,\n\t *     detail: { data: '123' }\n\t * })\n\t *\n\t * @alias module:x-bubbles/event~Custom\n\t * @constructor\n\t */\n\tvar Custom = function () {\n\t    if (typeof context.CustomEvent === 'function') {\n\t        return context.CustomEvent;\n\t    }\n\t\n\t    return CustomEventCommon;\n\t}();\n\t\n\t/**\n\t * Dispatch event.\n\t *\n\t * @example\n\t * const { dispatch } = require('event');\n\t * dispatch(node, 'custom-event', {\n\t *     bubbles: true,\n\t *     cancelable: true,\n\t *     detail: { data: '123' }\n\t * })\n\t *\n\t * @alias module:x-bubbles/event.dispatch\n\t * @param {HTMLElement} element node events\n\t * @param {string} name event name\n\t * @param {Object} params the event parameters\n\t * @param {boolean} [params.bubbles=false]\n\t * @param {boolean} [params.cancelable=false]\n\t * @param {*} [params.detail]\n\t */\n\tfunction dispatch(element, name) {\n\t    var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t    element.dispatchEvent(new Custom(name, params));\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {var now = __webpack_require__(4)\n\t  , root = typeof window === 'undefined' ? global : window\n\t  , vendors = ['moz', 'webkit']\n\t  , suffix = 'AnimationFrame'\n\t  , raf = root['request' + suffix]\n\t  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\t\n\tfor(var i = 0; !raf && i < vendors.length; i++) {\n\t  raf = root[vendors[i] + 'Request' + suffix]\n\t  caf = root[vendors[i] + 'Cancel' + suffix]\n\t      || root[vendors[i] + 'CancelRequest' + suffix]\n\t}\n\t\n\t// Some versions of FF have rAF but not cAF\n\tif(!raf || !caf) {\n\t  var last = 0\n\t    , id = 0\n\t    , queue = []\n\t    , frameDuration = 1000 / 60\n\t\n\t  raf = function(callback) {\n\t    if(queue.length === 0) {\n\t      var _now = now()\n\t        , next = Math.max(0, frameDuration - (_now - last))\n\t      last = next + _now\n\t      setTimeout(function() {\n\t        var cp = queue.slice(0)\n\t        // Clear queue here to prevent\n\t        // callbacks from appending listeners\n\t        // to the current frame's queue\n\t        queue.length = 0\n\t        for(var i = 0; i < cp.length; i++) {\n\t          if(!cp[i].cancelled) {\n\t            try{\n\t              cp[i].callback(last)\n\t            } catch(e) {\n\t              setTimeout(function() { throw e }, 0)\n\t            }\n\t          }\n\t        }\n\t      }, Math.round(next))\n\t    }\n\t    queue.push({\n\t      handle: ++id,\n\t      callback: callback,\n\t      cancelled: false\n\t    })\n\t    return id\n\t  }\n\t\n\t  caf = function(handle) {\n\t    for(var i = 0; i < queue.length; i++) {\n\t      if(queue[i].handle === handle) {\n\t        queue[i].cancelled = true\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tmodule.exports = function(fn) {\n\t  // Wrap in a new function to prevent\n\t  // `cancel` potentially being assigned\n\t  // to the native rAF function\n\t  return raf.call(root, fn)\n\t}\n\tmodule.exports.cancel = function() {\n\t  caf.apply(root, arguments)\n\t}\n\tmodule.exports.polyfill = function() {\n\t  root.requestAnimationFrame = raf\n\t  root.cancelAnimationFrame = caf\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.7.1\n\t(function() {\n\t  var getNanoSeconds, hrtime, loadTime;\n\t\n\t  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n\t    module.exports = function() {\n\t      return performance.now();\n\t    };\n\t  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n\t    module.exports = function() {\n\t      return (getNanoSeconds() - loadTime) / 1e6;\n\t    };\n\t    hrtime = process.hrtime;\n\t    getNanoSeconds = function() {\n\t      var hr;\n\t      hr = hrtime();\n\t      return hr[0] * 1e9 + hr[1];\n\t    };\n\t    loadTime = getNanoSeconds();\n\t  } else if (Date.now) {\n\t    module.exports = function() {\n\t      return Date.now() - loadTime;\n\t    };\n\t    loadTime = Date.now();\n\t  } else {\n\t    module.exports = function() {\n\t      return new Date().getTime() - loadTime;\n\t    };\n\t    loadTime = new Date().getTime();\n\t  }\n\t\n\t}).call(this);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar context = __webpack_require__(1);\n\t\n\t/**\n\t * @constant {Document}\n\t * @private\n\t */\n\tvar doc = context.document;\n\t\n\t/**\n\t * @constant {Object}\n\t * @private\n\t */\n\tvar protoEvent = context.Event.prototype;\n\t\n\tvar issetCustomEvent = false;\n\t\n\ttry {\n\t    issetCustomEvent = Boolean(doc.createEvent('CustomEvent'));\n\t} catch (e) {}\n\t// do nothing\n\t\n\t\n\t/**\n\t * The original function \"stopImmediatePropagation\"\n\t * @constant {function}\n\t * @private\n\t */\n\tvar stopImmediatePropagation = protoEvent.stopImmediatePropagation;\n\t\n\t/**\n\t * Override function to set properties \"immediatePropagationStopped\"\n\t */\n\tprotoEvent.stopImmediatePropagation = function () {\n\t    this.immediatePropagationStopped = true;\n\t\n\t    if (stopImmediatePropagation) {\n\t        stopImmediatePropagation.call(this);\n\t    } else {\n\t        this.stopPropagation();\n\t    }\n\t};\n\t\n\tvar CustomEventCommon = function () {\n\t    if (issetCustomEvent) {\n\t        return function (eventName, params) {\n\t            params = params || {};\n\t\n\t            var bubbles = Boolean(params.bubbles);\n\t            var cancelable = Boolean(params.cancelable);\n\t            var evt = doc.createEvent('CustomEvent');\n\t\n\t            evt.initCustomEvent(eventName, bubbles, cancelable, params.detail);\n\t\n\t            return evt;\n\t        };\n\t    }\n\t\n\t    return function (eventName, params) {\n\t        params = params || {};\n\t\n\t        var bubbles = Boolean(params.bubbles);\n\t        var cancelable = Boolean(params.cancelable);\n\t        var evt = doc.createEvent('Event');\n\t\n\t        evt.initEvent(eventName, bubbles, cancelable);\n\t        evt.detail = params.detail;\n\t\n\t        return evt;\n\t    };\n\t}();\n\t\n\tCustomEventCommon.prototype = protoEvent;\n\t\n\tmodule.exports = CustomEventCommon;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.KEY = {\n\t    a: 65,\n\t    Backspace: 8,\n\t    Bottom: 40,\n\t    Cmd: 91,\n\t    Comma: 44, // ,\n\t    Enter: 13, // Enter\n\t    Esc: 27,\n\t    Left: 37,\n\t    Right: 39,\n\t    Semicolon: 59, // ;\n\t    Space: 32,\n\t    Tab: 9,\n\t    Top: 38\n\t};\n\t\n\texports.CLS = {\n\t    DRAGSTART: 'drag',\n\t    DROPZONE: 'dropzone'\n\t};\n\t\n\texports.EV = {\n\t    BUBBLE_EDIT: 'bubble-edit',\n\t    BUBBLE_INPUT: 'bubble-input',\n\t    CHANGE: 'change'\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar context = __webpack_require__(1);\n\tvar bubble = __webpack_require__(9);\n\tvar bubbleset = __webpack_require__(11);\n\t\n\t/* eslint-disable max-len */\n\tvar REG_REPLACE_NON_PRINTABLE = /[\\0-\\x1F\\x7F-\\x9F\\xAD\\u0378\\u0379\\u037F-\\u0383\\u038B\\u038D\\u03A2\\u0528-\\u0530\\u0557\\u0558\\u0560\\u0588\\u058B-\\u058E\\u0590\\u05C8-\\u05CF\\u05EB-\\u05EF\\u05F5-\\u0605\\u061C\\u061D\\u06DD\\u070E\\u070F\\u074B\\u074C\\u07B2-\\u07BF\\u07FB-\\u07FF\\u082E\\u082F\\u083F\\u085C\\u085D\\u085F-\\u089F\\u08A1\\u08AD-\\u08E3\\u08FF\\u0978\\u0980\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09FC-\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A76-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF2-\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B55\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B78-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BFB-\\u0C00\\u0C04\\u0C0D\\u0C11\\u0C29\\u0C34\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5A-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C77\\u0C80\\u0C81\\u0C84\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0D01\\u0D04\\u0D0D\\u0D11\\u0D3B\\u0D3C\\u0D45\\u0D49\\u0D4F-\\u0D56\\u0D58-\\u0D5F\\u0D64\\u0D65\\u0D76-\\u0D78\\u0D80\\u0D81\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DF1\\u0DF5-\\u0E00\\u0E3B-\\u0E3E\\u0E5C-\\u0E80\\u0E83\\u0E85\\u0E86\\u0E89\\u0E8B\\u0E8C\\u0E8E-\\u0E93\\u0E98\\u0EA0\\u0EA4\\u0EA6\\u0EA8\\u0EA9\\u0EAC\\u0EBA\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F48\\u0F6D-\\u0F70\\u0F98\\u0FBD\\u0FCD\\u0FDB-\\u0FFF\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u137D-\\u137F\\u139A-\\u139F\\u13F5-\\u13FF\\u169D-\\u169F\\u16F1-\\u16FF\\u170D\\u1715-\\u171F\\u1737-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17DE\\u17DF\\u17EA-\\u17EF\\u17FA-\\u17FF\\u180F\\u181A-\\u181F\\u1878-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191D-\\u191F\\u192C-\\u192F\\u193C-\\u193F\\u1941-\\u1943\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DB-\\u19DD\\u1A1C\\u1A1D\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1A9F\\u1AAE-\\u1AFF\\u1B4C-\\u1B4F\\u1B7D-\\u1B7F\\u1BF4-\\u1BFB\\u1C38-\\u1C3A\\u1C4A-\\u1C4C\\u1C80-\\u1CBF\\u1CC8-\\u1CCF\\u1CF7-\\u1CFF\\u1DE7-\\u1DFB\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FC5\\u1FD4\\u1FD5\\u1FDC\\u1FF0\\u1FF1\\u1FF5\\u1FFF\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u206F\\u2072\\u2073\\u208F\\u209D-\\u209F\\u20BB-\\u20CF\\u20F1-\\u20FF\\u218A-\\u218F\\u23F4-\\u23FF\\u2427-\\u243F\\u244B-\\u245F\\u2700\\u2B4D-\\u2B4F\\u2B5A-\\u2BFF\\u2C2F\\u2C5F\\u2CF4-\\u2CF8\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D71-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E3C-\\u2E7F\\u2E9A\\u2EF4-\\u2EFF\\u2FD6-\\u2FEF\\u2FFC-\\u2FFF\\u3040\\u3097\\u3098\\u3100-\\u3104\\u312E-\\u3130\\u318F\\u31BB-\\u31BF\\u31E4-\\u31EF\\u321F\\u32FF\\u4DB6-\\u4DBF\\u9FCD-\\u9FFF\\uA48D-\\uA48F\\uA4C7-\\uA4CF\\uA62C-\\uA63F\\uA698-\\uA69E\\uA6F8-\\uA6FF\\uA78F\\uA794-\\uA79F\\uA7AB-\\uA7F7\\uA82C-\\uA82F\\uA83A-\\uA83F\\uA878-\\uA87F\\uA8C5-\\uA8CD\\uA8DA-\\uA8DF\\uA8FC-\\uA8FF\\uA954-\\uA95E\\uA97D-\\uA97F\\uA9CE\\uA9DA-\\uA9DD\\uA9E0-\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A\\uAA5B\\uAA7C-\\uAA7F\\uAAC3-\\uAADA\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F-\\uABBF\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uF8FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBC2-\\uFBD2\\uFD40-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFE\\uFDFF\\uFE1A-\\uFE1F\\uFE27-\\uFE2F\\uFE53\\uFE67\\uFE6C-\\uFE6F\\uFE75\\uFEFD-\\uFF00\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFDF\\uFFE7\\uFFEF-\\uFFFB\\uFFFE\\uFFFF]/g;\n\tvar REG_ZWS = /\\u200B/;\n\tvar TEXT_ZWS = '\\u200B';\n\t\n\texports.arrowRight = arrowRight;\n\texports.arrowLeft = arrowLeft;\n\texports.remove = remove;\n\texports.html2text = html2text;\n\texports.currentTextRange = currentTextRange;\n\texports.text2bubble = text2bubble;\n\texports.replaceString = replaceString;\n\texports.selectAll = selectAll;\n\texports.textClean = textClean;\n\texports.checkZws = checkZws;\n\texports.createZws = createZws;\n\t\n\tfunction text2bubble(nodeSet, nodeBubble, selection) {\n\t    selection = selection || context.getSelection();\n\t\n\t    if (!selection) {\n\t        return false;\n\t    }\n\t\n\t    var range = currentTextRange(selection);\n\t\n\t    if (range && !nodeBubble) {\n\t        nodeBubble = bubble.create(nodeSet, range.toString());\n\t    }\n\t\n\t    if (!nodeBubble) {\n\t        return false;\n\t    }\n\t\n\t    if (range) {\n\t        selection.removeAllRanges();\n\t        selection.addRange(range);\n\t        replace(selection, nodeBubble);\n\t    } else {\n\t        nodeSet.appendChild(nodeBubble);\n\t    }\n\t\n\t    nodeSet.fireInput();\n\t    nodeSet.fireChange();\n\t    return true;\n\t}\n\t\n\tfunction currentTextRange(selection) {\n\t    selection = selection || context.getSelection();\n\t\n\t    if (!selection) {\n\t        return;\n\t    }\n\t\n\t    var pointNode = selection.focusNode && selection.focusNode.nodeType === Node.TEXT_NODE ? selection.focusNode : selection.anchorNode && selection.anchorNode.nodeType === Node.TEXT_NODE ? selection.anchorNode : undefined;\n\t\n\t    if (!pointNode) {\n\t        return;\n\t    }\n\t\n\t    var range = context.document.createRange();\n\t    var startNode = pointNode;\n\t    var endNode = pointNode;\n\t    var item = pointNode;\n\t\n\t    while (item && item.nodeType === Node.TEXT_NODE) {\n\t        startNode = item;\n\t        item = item.previousSibling;\n\t    }\n\t\n\t    item = pointNode;\n\t\n\t    while (item && item.nodeType === Node.TEXT_NODE) {\n\t        endNode = item;\n\t        item = item.nextSibling;\n\t    }\n\t\n\t    range.setStartBefore(startNode);\n\t    range.setEndAfter(endNode);\n\t\n\t    return range;\n\t}\n\t\n\tfunction remove(selection) {\n\t    return replace(selection, createZws());\n\t}\n\t\n\tfunction replace(selection, node) {\n\t    selection = selection || context.getSelection();\n\t\n\t    if (!selection || !selection.rangeCount) {\n\t        return false;\n\t    }\n\t\n\t    var anchor = context.document.createElement('span');\n\t    selection.getRangeAt(0).surroundContents(anchor);\n\t    anchor.parentNode.replaceChild(node, anchor);\n\t\n\t    selection.removeAllRanges();\n\t    selection.collapse(node, 0);\n\t\n\t    return true;\n\t}\n\t\n\tfunction replaceString(data, selection) {\n\t    data = textClean(data);\n\t    if (!data) {\n\t        return false;\n\t    }\n\t\n\t    selection = selection || context.getSelection();\n\t    var textNode = context.document.createTextNode(data);\n\t\n\t    if (!replace(selection, textNode)) {\n\t        return false;\n\t    }\n\t\n\t    selection.collapse(textNode, textNode.nodeValue.length);\n\t    return true;\n\t}\n\t\n\tfunction arrowLeft(selection, extend) {\n\t    selection = selection || context.getSelection();\n\t\n\t    if (!selection || !selection.anchorNode || selection.anchorNode.nodeType !== Node.TEXT_NODE) {\n\t\n\t        return false;\n\t    }\n\t\n\t    var _selectionCorrect = selectionCorrect(selection);\n\t\n\t    var startNode = _selectionCorrect.startNode;\n\t    var endNode = _selectionCorrect.endNode;\n\t    var startOffset = _selectionCorrect.startOffset;\n\t    var endOffset = _selectionCorrect.endOffset;\n\t\n\t\n\t    if (!selection.isCollapsed && !extend) {\n\t        selection.collapse(startNode, startOffset);\n\t        return true;\n\t    }\n\t\n\t    while (startNode) {\n\t        if (startNode.nodeType !== Node.TEXT_NODE) {\n\t            return false;\n\t        }\n\t\n\t        if (startOffset === null) {\n\t            startOffset = startNode.nodeValue.length;\n\t        }\n\t\n\t        if (startOffset - 1 < 0) {\n\t            startNode = startNode.previousSibling;\n\t            startOffset = null;\n\t            continue;\n\t        }\n\t\n\t        var text = startNode.nodeValue.substring(startOffset - 1, startOffset);\n\t\n\t        if (checkZws(text)) {\n\t            startOffset = startOffset - 1;\n\t            continue;\n\t        }\n\t\n\t        break;\n\t    }\n\t\n\t    if (!startNode || startOffset === null) {\n\t        return false;\n\t    }\n\t\n\t    if (extend) {\n\t        if (selection.extend) {\n\t            selection.extend(startNode, startOffset - 1);\n\t        } else {\n\t            var range = context.document.createRange();\n\t            range.setStart(startNode, startOffset - 1);\n\t            range.setEnd(endNode, endOffset);\n\t            selection.removeAllRanges();\n\t            selection.addRange(range);\n\t        }\n\t    } else {\n\t        selection.collapse(startNode, startOffset - 1);\n\t    }\n\t\n\t    return true;\n\t}\n\t\n\tfunction arrowRight(selection, extend) {\n\t    selection = selection || context.getSelection();\n\t\n\t    if (!selection || !selection.focusNode || selection.focusNode.nodeType !== Node.TEXT_NODE) {\n\t\n\t        return false;\n\t    }\n\t\n\t    var _selectionCorrect2 = selectionCorrect(selection);\n\t\n\t    var startNode = _selectionCorrect2.startNode;\n\t    var endNode = _selectionCorrect2.endNode;\n\t    var startOffset = _selectionCorrect2.startOffset;\n\t    var endOffset = _selectionCorrect2.endOffset;\n\t\n\t\n\t    if (!selection.isCollapsed && !extend) {\n\t        selection.collapse(endNode, endOffset);\n\t        return true;\n\t    }\n\t\n\t    while (endNode) {\n\t        if (endNode.nodeType !== Node.TEXT_NODE) {\n\t            return false;\n\t        }\n\t\n\t        var len = endNode.nodeValue.length;\n\t\n\t        if (endOffset + 1 > len) {\n\t            endNode = endNode.nextSibling;\n\t            endOffset = 0;\n\t            continue;\n\t        }\n\t\n\t        var text = endNode.nodeValue.substring(endOffset, endOffset + 1);\n\t\n\t        if (checkZws(text)) {\n\t            endOffset = endOffset + 1;\n\t            continue;\n\t        }\n\t\n\t        break;\n\t    }\n\t\n\t    if (!endNode) {\n\t        return false;\n\t    }\n\t\n\t    if (extend) {\n\t        if (selection.extend) {\n\t            selection.extend(endNode, endOffset + 1);\n\t        } else {\n\t            var range = context.document.createRange();\n\t            range.setStart(startNode, startOffset);\n\t            range.setEnd(endNode, endOffset + 1);\n\t            selection.removeAllRanges();\n\t            selection.addRange(range);\n\t        }\n\t    } else {\n\t        selection.collapse(endNode, endOffset + 1);\n\t    }\n\t\n\t    return true;\n\t}\n\t\n\tfunction html2text(value) {\n\t    if (!value) {\n\t        return '';\n\t    }\n\t\n\t    var DOMContainer = context.document.implementation.createHTMLDocument('').body;\n\t    DOMContainer.innerText = value;\n\t\n\t    return DOMContainer.innerText.replace(/^[\\u0020\\u00a0]+$/gm, '').replace(/\\n/gm, ' ').trim();\n\t}\n\t\n\tfunction selectAll(selection, nodeSet) {\n\t    selection = selection || context.getSelection();\n\t    var node = selection && selection.anchorNode;\n\t\n\t    if (!node || node.nodeType !== Node.TEXT_NODE) {\n\t        return false;\n\t    }\n\t\n\t    var fromNode = void 0;\n\t    var toNode = void 0;\n\t    var item = node;\n\t\n\t    while (item && item.nodeType === Node.TEXT_NODE) {\n\t        fromNode = item;\n\t        item = item.previousSibling;\n\t    }\n\t\n\t    item = node;\n\t\n\t    while (item && item.nodeType === Node.TEXT_NODE) {\n\t        toNode = item;\n\t        item = item.nextSibling;\n\t    }\n\t\n\t    var hasBubbles = bubbleset.hasBubbles(nodeSet);\n\t    var range = context.document.createRange();\n\t    range.setStartBefore(fromNode);\n\t    range.setEndAfter(toNode);\n\t\n\t    var dataText = textClean(range.toString());\n\t\n\t    if (dataText || !dataText && !hasBubbles) {\n\t        if (!dataText) {\n\t            range.collapse();\n\t        }\n\t\n\t        selection.removeAllRanges();\n\t        selection.addRange(range);\n\t        return true;\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction createZws() {\n\t    return context.document.createTextNode(TEXT_ZWS);\n\t}\n\t\n\tfunction checkZws(value) {\n\t    return REG_ZWS.test(value);\n\t}\n\t\n\tfunction textClean(value) {\n\t    return String(value || '').trim().replace(REG_REPLACE_NON_PRINTABLE, '');\n\t}\n\t\n\tfunction selectionCorrect(selection) {\n\t    var startNode = selection.anchorNode;\n\t    var endNode = selection.focusNode;\n\t    var startOffset = selection.anchorOffset;\n\t    var endOffset = selection.focusOffset;\n\t\n\t    if (startNode === endNode) {\n\t        startOffset = Math.min(selection.anchorOffset, selection.focusOffset);\n\t        endOffset = Math.max(selection.anchorOffset, selection.focusOffset);\n\t    } else {\n\t        var position = selection.anchorNode.compareDocumentPosition(selection.focusNode);\n\t        if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n\t            startNode = selection.focusNode;\n\t            startOffset = selection.focusOffset;\n\t            endNode = selection.anchorNode;\n\t            endOffset = selection.anchorOffset;\n\t        }\n\t    }\n\t\n\t    return { startNode: startNode, endNode: endNode, startOffset: startOffset, endOffset: endOffset };\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar context = __webpack_require__(1);\n\tvar text = __webpack_require__(8);\n\t\n\tvar _require = __webpack_require__(10);\n\t\n\tvar escape = _require.escape;\n\tvar canUseDrag = _require.canUseDrag;\n\t\n\t\n\texports.isBubbleNode = isBubbleNode;\n\texports.bubbling = bubbling;\n\texports.create = create;\n\texports.edit = edit;\n\t\n\tfunction isBubbleNode(node) {\n\t    if (!node || node.nodeType !== Node.ELEMENT_NODE) {\n\t        return false;\n\t    }\n\t\n\t    return node.hasAttribute('bubble');\n\t}\n\t\n\tfunction edit(nodeSet, nodeBubble) {\n\t    if (nodeBubble.hasAttribute('readonly')) {\n\t        return false;\n\t    }\n\t\n\t    var selection = context.getSelection();\n\t\n\t    if (!selection) {\n\t        return false;\n\t    }\n\t\n\t    var bubbleDeformation = nodeSet.options('bubbleDeformation');\n\t    var rangeParams = bubbleDeformation(nodeBubble);\n\t\n\t    if (!rangeParams) {\n\t        var dataText = text.textClean(nodeBubble.innerText);\n\t\n\t        rangeParams = {\n\t            text: dataText,\n\t            startOffset: 0,\n\t            endOffset: dataText.length\n\t        };\n\t    }\n\t\n\t    var textFake = text.createZws();\n\t    var textNode = context.document.createTextNode(rangeParams.text);\n\t\n\t    nodeSet.fireEdit(nodeBubble);\n\t    nodeSet.replaceChild(textNode, nodeBubble);\n\t    nodeSet.insertBefore(textFake, textNode);\n\t\n\t    var range = context.document.createRange();\n\t    range.setStart(textNode, rangeParams.startOffset);\n\t    range.setEnd(textNode, rangeParams.endOffset);\n\t\n\t    selection.removeAllRanges();\n\t    selection.addRange(range);\n\t    return true;\n\t}\n\t\n\tfunction create(nodeSet, dataText) {\n\t    var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t    dataText = text.textClean(dataText);\n\t\n\t    if (!dataText) {\n\t        return;\n\t    }\n\t\n\t    var bubbleFormation = nodeSet.options('bubbleFormation');\n\t    var classBubble = nodeSet.options('classBubble');\n\t    var draggable = canUseDrag() && nodeSet.options('draggable');\n\t    var wrap = context.document.createElement('span');\n\t\n\t    wrap.innerText = dataText;\n\t\n\t    if (draggable) {\n\t        wrap.setAttribute('draggable', 'true');\n\t    }\n\t\n\t    for (var key in data) {\n\t        if (data[key]) {\n\t            wrap.setAttribute('data-' + key, escape(data[key]));\n\t        }\n\t    }\n\t\n\t    bubbleFormation(wrap);\n\t\n\t    if (classBubble) {\n\t        var classes = String(classBubble).trim().split(/\\s+/);\n\t        var len = classes.length;\n\t\n\t        while (len--) {\n\t            wrap.classList.add(classes[len]);\n\t        }\n\t    }\n\t\n\t    wrap.setAttribute('bubble', '');\n\t    wrap.setAttribute('contenteditable', 'false');\n\t\n\t    return wrap;\n\t}\n\t\n\tfunction bubbling(nodeSet) {\n\t    var separator = nodeSet.options('separator');\n\t    var ending = nodeSet.options('ending');\n\t    var begining = nodeSet.options('begining');\n\t    var ranges = getBubbleRanges(nodeSet);\n\t    var nodes = [];\n\t\n\t    ranges.forEach(function (range) {\n\t        var dataText = text.textClean(range.toString());\n\t\n\t        if (!dataText) {\n\t            range.deleteContents();\n\t            return;\n\t        }\n\t\n\t        var textParts = [dataText];\n\t\n\t        if (separator) {\n\t            textParts = dataText.split(separator).map(trimIterator).filter(nonEmptyIterator);\n\t        }\n\t\n\t        if (ending) {\n\t            textParts = textParts.reduce(function (parts, str) {\n\t                return parts.concat(parseFragmentByEnding(str, ending));\n\t            }, []).map(trimIterator).filter(nonEmptyIterator);\n\t        } else if (begining) {\n\t            textParts = textParts.reduce(function (parts, str) {\n\t                return parts.concat(parseFragmentByBeginning(str, begining));\n\t            }, []).map(trimIterator).filter(nonEmptyIterator);\n\t        }\n\t\n\t        if (!textParts.length) {\n\t            range.deleteContents();\n\t        }\n\t\n\t        var fragment = context.document.createDocumentFragment();\n\t\n\t        textParts.forEach(function (textPart) {\n\t            var nodeBubble = create(nodeSet, textPart);\n\t            if (nodeBubble) {\n\t                fragment.appendChild(nodeBubble);\n\t                nodes.push(nodeBubble);\n\t            }\n\t        });\n\t\n\t        range.deleteContents();\n\t        range.insertNode(fragment);\n\t    });\n\t\n\t    nodeSet.fireInput();\n\t\n\t    if (nodes.length) {\n\t        nodeSet.fireChange();\n\t    }\n\t\n\t    return nodes;\n\t}\n\t\n\tfunction getBubbleRanges(nodeSet) {\n\t    var ranges = [];\n\t    var children = nodeSet.childNodes;\n\t    var range = void 0;\n\t    var node = void 0;\n\t\n\t    for (var i = 0; i < children.length; i++) {\n\t        node = children[i];\n\t\n\t        if (isBubbleNode(node)) {\n\t            if (range) {\n\t                range.setEndBefore(node);\n\t                ranges.push(range);\n\t                range = undefined;\n\t            }\n\t        } else {\n\t            if (!range) {\n\t                range = context.document.createRange();\n\t                range.setStartBefore(node);\n\t            }\n\t        }\n\t    }\n\t\n\t    if (range) {\n\t        range.setEndAfter(node);\n\t        ranges.push(range);\n\t    }\n\t\n\t    return ranges;\n\t}\n\t\n\tfunction trimIterator(str) {\n\t    return str.trim();\n\t}\n\t\n\tfunction nonEmptyIterator(str) {\n\t    return Boolean(str);\n\t}\n\t\n\tfunction parseFragmentByEnding(str, reg) {\n\t    var parts = [];\n\t    var lastIndex = 0;\n\t    var loop = 999;\n\t\n\t    reg.lastIndex = 0;\n\t    while (reg.exec(str) !== null && loop) {\n\t        loop--;\n\t        parts.push(str.substring(lastIndex, reg.lastIndex));\n\t        lastIndex = reg.lastIndex;\n\t    }\n\t\n\t    return parts;\n\t}\n\t\n\tfunction parseFragmentByBeginning(str, reg) {\n\t    var parts = [];\n\t    var res = void 0;\n\t    var index = 0;\n\t    var loop = 999;\n\t\n\t    reg.lastIndex = 0;\n\t    while ((res = reg.exec(str)) !== null && loop) {\n\t        loop--;\n\t        if (index !== res.index) {\n\t            parts.push(str.substring(index, res.index));\n\t            index = res.index;\n\t        }\n\t    }\n\t\n\t    parts.push(str.substring(index, str.length));\n\t    return parts;\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar context = __webpack_require__(1);\n\t\n\t/* eslint quotes: 0 */\n\t\n\tvar htmlEscapes = {\n\t    '&': '&amp;',\n\t    '<': '&lt;',\n\t    '>': '&gt;',\n\t    '\"': '&quot;',\n\t    \"'\": '&#39;',\n\t    '`': '&#96;'\n\t};\n\t\n\tvar htmlUnescapes = {\n\t    '&amp;': '&',\n\t    '&lt;': '<',\n\t    '&gt;': '>',\n\t    '&quot;': '\"',\n\t    '&#39;': \"'\",\n\t    '&#96;': '`'\n\t};\n\t\n\tvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g;\n\tvar reUnescapedHtml = /[&<>\"'`]/g;\n\tvar reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\tvar reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\tvar reIEUA = /Trident|Edge/;\n\t\n\texports.escape = function (data) {\n\t    data = String(data);\n\t\n\t    if (data && reHasUnescapedHtml.test(data)) {\n\t        return data.replace(reUnescapedHtml, escapeHtmlChar);\n\t    }\n\t\n\t    return data;\n\t};\n\t\n\texports.unescape = function (data) {\n\t    data = String(data);\n\t\n\t    if (data && reHasEscapedHtml.test(data)) {\n\t        return data.replace(reEscapedHtml, unescapeHtmlChar);\n\t    }\n\t\n\t    return data;\n\t};\n\t\n\texports.canUseDrag = function () {\n\t    return !reIEUA.test(context.navigator.userAgent);\n\t};\n\t\n\tfunction unescapeHtmlChar(chr) {\n\t    return htmlUnescapes[chr];\n\t}\n\t\n\tfunction escapeHtmlChar(chr) {\n\t    return htmlEscapes[chr];\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar bubble = __webpack_require__(9);\n\tvar text = __webpack_require__(8);\n\t\n\texports.closestNodeBubble = closestNodeBubble;\n\texports.closestNodeSet = closestNodeSet;\n\texports.findBubbleLeft = findBubbleLeft;\n\texports.getBubbles = getBubbles;\n\texports.hasBubbles = hasBubbles;\n\texports.headBubble = headBubble;\n\texports.lastBubble = lastBubble;\n\texports.nextBubble = nextBubble;\n\texports.prevBubble = prevBubble;\n\t\n\tfunction lastBubble(nodeSet) {\n\t    return nodeSet.querySelector('[bubble]:last-child');\n\t}\n\t\n\tfunction headBubble(nodeSet) {\n\t    return nodeSet.querySelector('[bubble]:first-child');\n\t}\n\t\n\tfunction getBubbles(nodeSet) {\n\t    return Array.prototype.slice.call(nodeSet.querySelectorAll('[bubble]'));\n\t}\n\t\n\tfunction hasBubbles(nodeSet) {\n\t    return Boolean(nodeSet.querySelector('[bubble]'));\n\t}\n\t\n\tfunction findBubbleLeft(selection) {\n\t    if (!selection.focusNode || !selection.anchorNode) {\n\t        return;\n\t    }\n\t\n\t    var node = selection.focusNode.previousSibling;\n\t\n\t    if (selection.anchorNode !== selection.focusNode && selection.anchorNode.compareDocumentPosition(selection.focusNode) & Node.DOCUMENT_POSITION_FOLLOWING) {\n\t        node = selection.anchorNode.previousSibling;\n\t    }\n\t\n\t    while (node) {\n\t        if (bubble.isBubbleNode(node)) {\n\t            return node;\n\t        }\n\t\n\t        if (node.nodeType === Node.TEXT_NODE && text.textClean(node.nodeValue)) {\n\t            return;\n\t        }\n\t\n\t        node = node.previousSibling;\n\t    }\n\t}\n\t\n\tfunction closestNodeSet(node) {\n\t    while (node) {\n\t        if (node.nodeType === Node.ELEMENT_NODE && node.getAttribute('is') === 'x-bubbles') {\n\t\n\t            return node;\n\t        }\n\t\n\t        node = node.parentNode;\n\t    }\n\t}\n\t\n\tfunction closestNodeBubble(node) {\n\t    while (node) {\n\t        if (bubble.isBubbleNode(node)) {\n\t            return node;\n\t        }\n\t\n\t        node = node.parentNode;\n\t    }\n\t}\n\t\n\tfunction prevBubble(target) {\n\t    var node = target && target.previousSibling;\n\t    while (node) {\n\t        if (bubble.isBubbleNode(node)) {\n\t            return node;\n\t        }\n\t\n\t        node = node.previousSibling;\n\t    }\n\t}\n\t\n\tfunction nextBubble(target) {\n\t    var node = target && target.nextSibling;\n\t    while (node) {\n\t        if (bubble.isBubbleNode(node)) {\n\t            return node;\n\t        }\n\t\n\t        node = node.nextSibling;\n\t    }\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar native = __webpack_require__(13);\n\tvar mouse = __webpack_require__(17);\n\t\n\tvar _require = __webpack_require__(10);\n\t\n\tvar canUseDrag = _require.canUseDrag;\n\t\n\t\n\texports.init = function (nodeSet) {\n\t    if (canUseDrag()) {\n\t        return native.init(nodeSet);\n\t    }\n\t\n\t    return mouse.init(nodeSet);\n\t};\n\t\n\texports.destroy = function (nodeSet) {\n\t    if (canUseDrag()) {\n\t        return native.destroy(nodeSet);\n\t    }\n\t\n\t    return mouse.destroy(nodeSet);\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar context = __webpack_require__(1);\n\tvar select = __webpack_require__(14);\n\tvar bubbleset = __webpack_require__(11);\n\t\n\tvar _require = __webpack_require__(7);\n\t\n\tvar CLS = _require.CLS;\n\t\n\tvar _require2 = __webpack_require__(15);\n\t\n\tvar getDragImage = _require2.getDragImage;\n\tvar DRAG_IMG_WIDTH = _require2.DRAG_IMG_WIDTH;\n\t\n\t\n\tvar currentDragSet = null;\n\t\n\texports.init = function (nodeSet) {\n\t    nodeSet.addEventListener('drop', onDrop);\n\t    nodeSet.addEventListener('dragover', onDragover);\n\t    nodeSet.addEventListener('dragenter', onDragenter);\n\t    nodeSet.addEventListener('dragleave', onDragleave);\n\t    nodeSet.addEventListener('dragstart', onDragstart);\n\t    nodeSet.addEventListener('dragend', onDragend);\n\t};\n\t\n\texports.destroy = function (nodeSet) {\n\t    nodeSet.removeEventListener('drop', onDrop);\n\t    nodeSet.removeEventListener('dragover', onDragover);\n\t    nodeSet.removeEventListener('dragenter', onDragenter);\n\t    nodeSet.removeEventListener('dragleave', onDragleave);\n\t    nodeSet.removeEventListener('dragstart', onDragstart);\n\t    nodeSet.removeEventListener('dragend', onDragend);\n\t};\n\t\n\tfunction onDragstart(event) {\n\t    event.stopPropagation();\n\t\n\t    var nodeSet = bubbleset.closestNodeSet(event.target);\n\t    var nodeBubble = bubbleset.closestNodeBubble(event.target);\n\t\n\t    if (!nodeSet || !nodeBubble) {\n\t        event.preventDefault();\n\t        return;\n\t    }\n\t\n\t    var selection = context.getSelection();\n\t    selection && selection.removeAllRanges();\n\t\n\t    currentDragSet = nodeSet;\n\t    nodeSet.classList.add(CLS.DRAGSTART);\n\t    select.add(nodeBubble);\n\t\n\t    event.dataTransfer.effectAllowed = 'move';\n\t    event.dataTransfer.setData('text/plain', '');\n\t\n\t    var list = select.get(currentDragSet);\n\t    if (list.length > 1) {\n\t        event.dataTransfer.setDragImage(getDragImage(), DRAG_IMG_WIDTH, DRAG_IMG_WIDTH);\n\t    }\n\t}\n\t\n\tfunction onDrop(event) {\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t\n\t    if (!currentDragSet) {\n\t        return;\n\t    }\n\t\n\t    var nodeSet = bubbleset.closestNodeSet(event.target);\n\t\n\t    if (!nodeSet || nodeSet === currentDragSet) {\n\t        return;\n\t    }\n\t\n\t    var list = select.get(currentDragSet);\n\t\n\t    if (list.length) {\n\t        list.forEach(function (item) {\n\t            return nodeSet.appendChild(item);\n\t        });\n\t\n\t        setTimeout(function () {\n\t            nodeSet.focus();\n\t            nodeSet.fireChange();\n\t        }, 0);\n\t    }\n\t}\n\t\n\tfunction onDragover(event) {\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t\n\t    if (!currentDragSet) {\n\t        return;\n\t    }\n\t\n\t    event.dataTransfer.dropEffect = 'move';\n\t}\n\t\n\tfunction onDragenter(event) {\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t\n\t    if (!currentDragSet) {\n\t        return;\n\t    }\n\t\n\t    var nodeSet = bubbleset.closestNodeSet(event.target);\n\t    if (nodeSet && nodeSet !== currentDragSet) {\n\t        nodeSet.classList.add(CLS.DROPZONE);\n\t    }\n\t}\n\t\n\tfunction onDragleave(event) {\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t\n\t    if (!currentDragSet) {\n\t        return;\n\t    }\n\t\n\t    var nodeSet = bubbleset.closestNodeSet(event.target);\n\t    if (nodeSet && nodeSet !== currentDragSet) {\n\t        nodeSet.classList.remove(CLS.DROPZONE);\n\t    }\n\t}\n\t\n\tfunction onDragend(event) {\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t\n\t    if (!currentDragSet) {\n\t        return;\n\t    }\n\t\n\t    currentDragSet.classList.remove(CLS.DRAGSTART);\n\t\n\t    var nodeSet = bubbleset.closestNodeSet(event.target);\n\t\n\t    if (nodeSet && nodeSet !== currentDragSet) {\n\t        nodeSet.classList.remove(CLS.DROPZONE);\n\t    }\n\t\n\t    currentDragSet = null;\n\t}\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar context = __webpack_require__(1);\n\tvar bubble = __webpack_require__(9);\n\tvar bubbleset = __webpack_require__(11);\n\t\n\tvar slice = Array.prototype.slice;\n\tvar PATH_SELECTED = '[bubble][selected]';\n\tvar PATH_NOT_SELECTED = '[bubble]:not([selected])';\n\t\n\texports.all = all;\n\texports.add = add;\n\texports.clear = clear;\n\texports.get = get;\n\texports.uniq = uniq;\n\texports.head = head;\n\texports.last = last;\n\texports.has = has;\n\texports.range = range;\n\texports.toggleUniq = toggleUniq;\n\t\n\tfunction range(node) {\n\t    if (!bubble.isBubbleNode(node)) {\n\t        return;\n\t    }\n\t\n\t    var set = node.parentNode;\n\t    var list = get(set);\n\t\n\t    if (!list.length) {\n\t        uniq(node);\n\t        return;\n\t    }\n\t\n\t    clear(set);\n\t\n\t    var headList = list[0];\n\t    var lastList = list[list.length - 1];\n\t\n\t    if (headList === lastList || !set.startRangeSelect) {\n\t        set.startRangeSelect = headList;\n\t    }\n\t\n\t    var fromNode = void 0;\n\t    var toNode = void 0;\n\t    var position = node.compareDocumentPosition(set.startRangeSelect);\n\t\n\t    if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n\t        fromNode = set.startRangeSelect;\n\t        toNode = node;\n\t    } else {\n\t        fromNode = node;\n\t        toNode = set.startRangeSelect;\n\t    }\n\t\n\t    if (fromNode && toNode) {\n\t        var item = fromNode;\n\t\n\t        while (item) {\n\t            if (!setSelected(item)) {\n\t                break;\n\t            }\n\t\n\t            if (item === toNode) {\n\t                break;\n\t            }\n\t\n\t            item = item.nextSibling;\n\t        }\n\t\n\t        bubble.bubbling(set);\n\t    }\n\t}\n\t\n\tfunction all(nodeSet) {\n\t    slice.call(nodeSet.querySelectorAll(PATH_NOT_SELECTED)).forEach(function (item) {\n\t        return setSelected(item);\n\t    });\n\t    nodeSet.startRangeSelect = nodeSet.querySelector(PATH_SELECTED);\n\t\n\t    bubble.bubbling(nodeSet);\n\t\n\t    var selection = context.getSelection();\n\t    selection && selection.removeAllRanges();\n\t}\n\t\n\tfunction has(nodeSet) {\n\t    return Boolean(nodeSet.querySelector(PATH_SELECTED));\n\t}\n\t\n\tfunction head(set) {\n\t    return get(set)[0];\n\t}\n\t\n\tfunction last(set) {\n\t    var list = get(set);\n\t    return list[list.length - 1];\n\t}\n\t\n\tfunction get(nodeSet) {\n\t    return slice.call(nodeSet.querySelectorAll(PATH_SELECTED));\n\t}\n\t\n\tfunction clear(nodeSet) {\n\t    get(nodeSet).forEach(function (item) {\n\t        return item.removeAttribute('selected');\n\t    });\n\t}\n\t\n\tfunction add(node) {\n\t    if (setSelected(node)) {\n\t        var nodeSet = bubbleset.closestNodeSet(node);\n\t\n\t        nodeSet.startRangeSelect = node;\n\t        // ???\n\t        bubble.bubbling(nodeSet);\n\t\n\t        return true;\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction uniq(node) {\n\t    if (!bubble.isBubbleNode(node)) {\n\t        return false;\n\t    }\n\t\n\t    var nodeSet = bubbleset.closestNodeSet(node);\n\t    var selection = context.getSelection();\n\t\n\t    selection && selection.removeAllRanges();\n\t    clear(nodeSet);\n\t\n\t    return add(node);\n\t}\n\t\n\tfunction toggleUniq(node) {\n\t    if (isSelected(node)) {\n\t        var nodeSet = bubbleset.closestNodeSet(node);\n\t\n\t        if (get(nodeSet).length === 1) {\n\t            return removeSelected(node);\n\t        }\n\t    }\n\t\n\t    return uniq(node);\n\t}\n\t\n\tfunction isSelected(node) {\n\t    return bubble.isBubbleNode(node) && node.hasAttribute('selected') || false;\n\t}\n\t\n\tfunction setSelected(node) {\n\t    if (bubble.isBubbleNode(node)) {\n\t        node.setAttribute('selected', '');\n\t        return true;\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction removeSelected(node) {\n\t    if (bubble.isBubbleNode(node)) {\n\t        node.removeAttribute('selected');\n\t        return true;\n\t    }\n\t\n\t    return false;\n\t}\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar dragImage = null;\n\t\n\tvar DRAG_IMG_WIDTH = 16;\n\t\n\texports.DRAG_IMG_WIDTH = DRAG_IMG_WIDTH;\n\t\n\texports.getDragImage = function () {\n\t    if (!dragImage) {\n\t        dragImage = new Image();\n\t        dragImage.src = __webpack_require__(16);\n\t    }\n\t\n\t    return dragImage;\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAB3klEQVR4XtWWMWgTYRTH/0n0IjWNkSo9jYJTx4KDAXWoIChtqdBFkG6lTm5iiw5OHQQFV4fSunYTOpVucbRDBicVUmmb0GsuJCYGknjfez4+PmjUy8U7cegffty3vPfjfY/jLsbM+J+JC8dbcAIm97aqEwBeCjmEywdhaePOSD5QQETr1y6m7Ww6iTApNTq57XJjHcCFYIEiGyeTKLYQKkmp0bWDrkiRQstD6HikazFYoBQIEWJql9+Ncu9Ons86+d8EBOKoAsLtG9P67FTLuY+fC3onf0zgcfQJKu1tfbaGU2Bm2+eKvKgTmFpdjK5qgtlnB17kHZjanq5M7LvkkltvZs+khxEm3xpNDCUqvwjIX0ALX4o7bwHYAs6fG8HlS1ns7ZdQcavol9NWHVNjb6COBP5XVJgf3+x9G8dXCuwpguu6eDrxAINCjIAJfFCk4Bw6eHZrLvTy+W8EpAiPrt6HYgth0qx1wcylgYKZobuTu59gduKfs6OnYF9J4eDrd9ScNkwOhAWY/NMXbXEtwxmR1KX5q/l6LOB7EAnd9MlqhhGQWM8zLiSM1IC4pn9uCtcfr6QXXz9svADwXsgLnqAEFgE0prklJA2WkSSEWICEDD+ErtAR2jCS4/9X8RPiO+YqXEJbcwAAAABJRU5ErkJggg==\"\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar context = __webpack_require__(1);\n\tvar events = __webpack_require__(2);\n\tvar select = __webpack_require__(14);\n\tvar bubbleset = __webpack_require__(11);\n\tvar Modernizr = __webpack_require__(18);\n\t\n\tvar _require = __webpack_require__(7);\n\t\n\tvar CLS = _require.CLS;\n\t\n\tvar _require2 = __webpack_require__(15);\n\t\n\tvar getDragImage = _require2.getDragImage;\n\tvar DRAG_IMG_WIDTH = _require2.DRAG_IMG_WIDTH;\n\t\n\t\n\tvar currentDragSet = null;\n\tvar currentMoveSet = null;\n\tvar currentDragElement = null;\n\t\n\texports.init = function (nodeSet) {\n\t    events.on(nodeSet, 'mousedown', onMousedown);\n\t};\n\t\n\texports.destroy = function (nodeSet) {\n\t    events.off(nodeSet, 'mousedown', onMousedown);\n\t};\n\t\n\tfunction onMousedown(event) {\n\t    var nodeBubble = bubbleset.closestNodeBubble(event.target);\n\t    if (!nodeBubble) {\n\t        return;\n\t    }\n\t\n\t    var nodeSet = bubbleset.closestNodeSet(event.target);\n\t    if (!nodeSet) {\n\t        return;\n\t    }\n\t\n\t    event.preventDefault();\n\t    nodeSet.focus();\n\t\n\t    var drag = nodeSet.__drag__ = {\n\t        onMouseup: onMouseup.bind(this, nodeSet),\n\t        onMousemove: events.throttle(onMousemove.bind(this, nodeSet)),\n\t        onScroll: events.throttle(onScroll.bind(this, nodeSet)),\n\t        nodeOffsetX: events.pageX(event) - nodeBubble.offsetLeft,\n\t        nodeOffsetY: events.pageY(event) - nodeBubble.offsetTop,\n\t        x: 0,\n\t        y: 0\n\t    };\n\t\n\t    currentDragSet = null;\n\t    currentMoveSet = null;\n\t    currentDragElement = null;\n\t\n\t    events.one(document, 'mouseup', drag.onMouseup);\n\t    events.on(document, 'mousemove', drag.onMousemove);\n\t    events.on(document, 'scroll', drag.onScroll);\n\t}\n\t\n\tfunction onMouseup(dragSet, event) {\n\t    var drag = dragSet.__drag__;\n\t    if (!drag) {\n\t        return;\n\t    }\n\t\n\t    events.off(document, 'mousemove', drag.onMousemove);\n\t    events.off(document, 'scroll', drag.onScroll);\n\t    delete dragSet.__drag__;\n\t\n\t    if (currentDragElement) {\n\t        currentDragElement.parentNode && currentDragElement.parentNode.removeChild(currentDragElement);\n\t        currentDragElement = null;\n\t    }\n\t\n\t    if (currentMoveSet) {\n\t        currentMoveSet.classList.remove(CLS.DROPZONE);\n\t        currentMoveSet = null;\n\t    }\n\t\n\t    if (currentDragSet) {\n\t        (function () {\n\t            var nodeSet = bubbleset.closestNodeSet(event.target);\n\t\n\t            if (nodeSet && nodeSet !== currentDragSet) {\n\t                var list = select.get(currentDragSet);\n\t\n\t                if (list.length) {\n\t                    list.forEach(function (item) {\n\t                        return nodeSet.appendChild(item);\n\t                    });\n\t\n\t                    setTimeout(function () {\n\t                        nodeSet.focus();\n\t                        nodeSet.fireChange();\n\t                    }, 0);\n\t                }\n\t            }\n\t\n\t            currentDragSet.classList.remove(CLS.DRAGSTART);\n\t            currentDragSet = null;\n\t        })();\n\t    }\n\t}\n\t\n\tfunction onMousemove(dragSet, event) {\n\t    var drag = dragSet.__drag__;\n\t    if (!drag) {\n\t        return;\n\t    }\n\t\n\t    if (!currentDragSet) {\n\t        var selection = context.getSelection();\n\t        selection && selection.removeAllRanges();\n\t\n\t        currentDragSet = dragSet;\n\t        currentDragSet.classList.add(CLS.DRAGSTART);\n\t\n\t        var nodeBubble = bubbleset.closestNodeBubble(event.target);\n\t        var moveElement = void 0;\n\t\n\t        if (nodeBubble) {\n\t            select.add(nodeBubble);\n\t            if (select.get(currentDragSet).length === 1) {\n\t                moveElement = nodeBubble.cloneNode(true);\n\t            }\n\t        }\n\t\n\t        if (!moveElement) {\n\t            moveElement = getDragImage();\n\t            drag.nodeOffsetX = DRAG_IMG_WIDTH;\n\t            drag.nodeOffsetY = DRAG_IMG_WIDTH;\n\t        }\n\t\n\t        currentDragElement = document.body.appendChild(document.createElement('div'));\n\t        currentDragElement.style.cssText = 'position:absolute;z-index:9999;pointer-events:none;top:0;left:0;';\n\t        currentDragElement.appendChild(moveElement);\n\t    }\n\t\n\t    drag.x = event.clientX;\n\t    drag.y = event.clientY;\n\t    onScroll(dragSet);\n\t\n\t    var nodeSet = bubbleset.closestNodeSet(event.target);\n\t    if (nodeSet && nodeSet !== currentDragSet) {\n\t        if (currentMoveSet && currentMoveSet !== nodeSet) {\n\t            currentMoveSet.classList.remove(CLS.DROPZONE);\n\t            nodeSet.classList.add(CLS.DROPZONE);\n\t            currentMoveSet = nodeSet;\n\t        } else if (!currentMoveSet) {\n\t            nodeSet.classList.add(CLS.DROPZONE);\n\t            currentMoveSet = nodeSet;\n\t        }\n\t    } else if (currentMoveSet) {\n\t        currentMoveSet.classList.remove(CLS.DROPZONE);\n\t        currentMoveSet = null;\n\t    }\n\t}\n\t\n\tfunction onScroll(dragSet) {\n\t    var drag = dragSet.__drag__;\n\t    if (!drag || !currentDragElement) {\n\t        return;\n\t    }\n\t\n\t    var x = drag.x - drag.nodeOffsetX + events.scrollX();\n\t    var y = drag.y - drag.nodeOffsetY + events.scrollY();\n\t\n\t    if (Modernizr.csstransforms3d) {\n\t        currentDragElement.style.transform = 'translate3d(' + x + 'px, ' + y + 'px, 0px)';\n\t    } else if (Modernizr.csstransforms) {\n\t        currentDragElement.style.transform = 'translate(' + x + 'px, ' + y + 'px)';\n\t    } else {\n\t        currentDragElement.style.top = y + 'px';\n\t        currentDragElement.style.left = x + 'px';\n\t    }\n\t}\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t;(function(window){\n\t/*!\n\t * modernizr v3.3.1\n\t * Build http://modernizr.com/download?-csstransforms-csstransforms3d-dontmin\n\t *\n\t * Copyright (c)\n\t *  Faruk Ates\n\t *  Paul Irish\n\t *  Alex Sexton\n\t *  Ryan Seddon\n\t *  Patrick Kettner\n\t *  Stu Cox\n\t *  Richard Herrera\n\t\n\t * MIT License\n\t */\n\t\n\t/*\n\t * Modernizr tests which native CSS3 and HTML5 features are available in the\n\t * current UA and makes the results available to you in two ways: as properties on\n\t * a global `Modernizr` object, and as classes on the `<html>` element. This\n\t * information allows you to progressively enhance your pages with a granular level\n\t * of control over the experience.\n\t*/\n\t\n\t;(function(window, document, undefined){\n\t  var tests = [];\n\t  \n\t\n\t  /**\n\t   *\n\t   * ModernizrProto is the constructor for Modernizr\n\t   *\n\t   * @class\n\t   * @access public\n\t   */\n\t\n\t  var ModernizrProto = {\n\t    // The current version, dummy\n\t    _version: '3.3.1',\n\t\n\t    // Any settings that don't work as separate modules\n\t    // can go in here as configuration.\n\t    _config: {\n\t      'classPrefix': '',\n\t      'enableClasses': true,\n\t      'enableJSClass': true,\n\t      'usePrefixes': true\n\t    },\n\t\n\t    // Queue of tests\n\t    _q: [],\n\t\n\t    // Stub these for people who are listening\n\t    on: function(test, cb) {\n\t      // I don't really think people should do this, but we can\n\t      // safe guard it a bit.\n\t      // -- NOTE:: this gets WAY overridden in src/addTest for actual async tests.\n\t      // This is in case people listen to synchronous tests. I would leave it out,\n\t      // but the code to *disallow* sync tests in the real version of this\n\t      // function is actually larger than this.\n\t      var self = this;\n\t      setTimeout(function() {\n\t        cb(self[test]);\n\t      }, 0);\n\t    },\n\t\n\t    addTest: function(name, fn, options) {\n\t      tests.push({name: name, fn: fn, options: options});\n\t    },\n\t\n\t    addAsyncTest: function(fn) {\n\t      tests.push({name: null, fn: fn});\n\t    }\n\t  };\n\t\n\t  \n\t\n\t  // Fake some of Object.create so we can force non test results to be non \"own\" properties.\n\t  var Modernizr = function() {};\n\t  Modernizr.prototype = ModernizrProto;\n\t\n\t  // Leak modernizr globally when you `require` it rather than force it here.\n\t  // Overwrite name so constructor name is nicer :D\n\t  Modernizr = new Modernizr();\n\t\n\t  \n\t\n\t  var classes = [];\n\t  \n\t\n\t  /**\n\t   * is returns a boolean if the typeof an obj is exactly type.\n\t   *\n\t   * @access private\n\t   * @function is\n\t   * @param {*} obj - A thing we want to check the type of\n\t   * @param {string} type - A string to compare the typeof against\n\t   * @returns {boolean}\n\t   */\n\t\n\t  function is(obj, type) {\n\t    return typeof obj === type;\n\t  }\n\t  ;\n\t\n\t  /**\n\t   * Run through all tests and detect their support in the current UA.\n\t   *\n\t   * @access private\n\t   */\n\t\n\t  function testRunner() {\n\t    var featureNames;\n\t    var feature;\n\t    var aliasIdx;\n\t    var result;\n\t    var nameIdx;\n\t    var featureName;\n\t    var featureNameSplit;\n\t\n\t    for (var featureIdx in tests) {\n\t      if (tests.hasOwnProperty(featureIdx)) {\n\t        featureNames = [];\n\t        feature = tests[featureIdx];\n\t        // run the test, throw the return value into the Modernizr,\n\t        // then based on that boolean, define an appropriate className\n\t        // and push it into an array of classes we'll join later.\n\t        //\n\t        // If there is no name, it's an 'async' test that is run,\n\t        // but not directly added to the object. That should\n\t        // be done with a post-run addTest call.\n\t        if (feature.name) {\n\t          featureNames.push(feature.name.toLowerCase());\n\t\n\t          if (feature.options && feature.options.aliases && feature.options.aliases.length) {\n\t            // Add all the aliases into the names list\n\t            for (aliasIdx = 0; aliasIdx < feature.options.aliases.length; aliasIdx++) {\n\t              featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());\n\t            }\n\t          }\n\t        }\n\t\n\t        // Run the test, or use the raw value if it's not a function\n\t        result = is(feature.fn, 'function') ? feature.fn() : feature.fn;\n\t\n\t\n\t        // Set each of the names on the Modernizr object\n\t        for (nameIdx = 0; nameIdx < featureNames.length; nameIdx++) {\n\t          featureName = featureNames[nameIdx];\n\t          // Support dot properties as sub tests. We don't do checking to make sure\n\t          // that the implied parent tests have been added. You must call them in\n\t          // order (either in the test, or make the parent test a dependency).\n\t          //\n\t          // Cap it to TWO to make the logic simple and because who needs that kind of subtesting\n\t          // hashtag famous last words\n\t          featureNameSplit = featureName.split('.');\n\t\n\t          if (featureNameSplit.length === 1) {\n\t            Modernizr[featureNameSplit[0]] = result;\n\t          } else {\n\t            // cast to a Boolean, if not one already\n\t            /* jshint -W053 */\n\t            if (Modernizr[featureNameSplit[0]] && !(Modernizr[featureNameSplit[0]] instanceof Boolean)) {\n\t              Modernizr[featureNameSplit[0]] = new Boolean(Modernizr[featureNameSplit[0]]);\n\t            }\n\t\n\t            Modernizr[featureNameSplit[0]][featureNameSplit[1]] = result;\n\t          }\n\t\n\t          classes.push((result ? '' : 'no-') + featureNameSplit.join('-'));\n\t        }\n\t      }\n\t    }\n\t  }\n\t  ;\n\t\n\t  /**\n\t   * If the browsers follow the spec, then they would expose vendor-specific style as:\n\t   *   elem.style.WebkitBorderRadius\n\t   * instead of something like the following, which would be technically incorrect:\n\t   *   elem.style.webkitBorderRadius\n\t\n\t   * Webkit ghosts their properties in lowercase but Opera & Moz do not.\n\t   * Microsoft uses a lowercase `ms` instead of the correct `Ms` in IE8+\n\t   *   erik.eae.net/archives/2008/03/10/21.48.10/\n\t\n\t   * More here: github.com/Modernizr/Modernizr/issues/issue/21\n\t   *\n\t   * @access private\n\t   * @returns {string} The string representing the vendor-specific style properties\n\t   */\n\t\n\t  var omPrefixes = 'Moz O ms Webkit';\n\t  \n\t\n\t  var cssomPrefixes = (ModernizrProto._config.usePrefixes ? omPrefixes.split(' ') : []);\n\t  ModernizrProto._cssomPrefixes = cssomPrefixes;\n\t  \n\t\n\t\n\t  /**\n\t   * contains checks to see if a string contains another string\n\t   *\n\t   * @access private\n\t   * @function contains\n\t   * @param {string} str - The string we want to check for substrings\n\t   * @param {string} substr - The substring we want to search the first string for\n\t   * @returns {boolean}\n\t   */\n\t\n\t  function contains(str, substr) {\n\t    return !!~('' + str).indexOf(substr);\n\t  }\n\t\n\t  ;\n\t\n\t  /**\n\t   * docElement is a convenience wrapper to grab the root element of the document\n\t   *\n\t   * @access private\n\t   * @returns {HTMLElement|SVGElement} The root element of the document\n\t   */\n\t\n\t  var docElement = document.documentElement;\n\t  \n\t\n\t  /**\n\t   * A convenience helper to check if the document we are running in is an SVG document\n\t   *\n\t   * @access private\n\t   * @returns {boolean}\n\t   */\n\t\n\t  var isSVG = docElement.nodeName.toLowerCase() === 'svg';\n\t  \n\t\n\t  /**\n\t   * createElement is a convenience wrapper around document.createElement. Since we\n\t   * use createElement all over the place, this allows for (slightly) smaller code\n\t   * as well as abstracting away issues with creating elements in contexts other than\n\t   * HTML documents (e.g. SVG documents).\n\t   *\n\t   * @access private\n\t   * @function createElement\n\t   * @returns {HTMLElement|SVGElement} An HTML or SVG element\n\t   */\n\t\n\t  function createElement() {\n\t    if (typeof document.createElement !== 'function') {\n\t      // This is the case in IE7, where the type of createElement is \"object\".\n\t      // For this reason, we cannot call apply() as Object is not a Function.\n\t      return document.createElement(arguments[0]);\n\t    } else if (isSVG) {\n\t      return document.createElementNS.call(document, 'http://www.w3.org/2000/svg', arguments[0]);\n\t    } else {\n\t      return document.createElement.apply(document, arguments);\n\t    }\n\t  }\n\t\n\t  ;\n\t\n\t  /**\n\t   * Create our \"modernizr\" element that we do most feature tests on.\n\t   *\n\t   * @access private\n\t   */\n\t\n\t  var modElem = {\n\t    elem: createElement('modernizr')\n\t  };\n\t\n\t  // Clean up this element\n\t  Modernizr._q.push(function() {\n\t    delete modElem.elem;\n\t  });\n\t\n\t  \n\t\n\t  var mStyle = {\n\t    style: modElem.elem.style\n\t  };\n\t\n\t  // kill ref for gc, must happen before mod.elem is removed, so we unshift on to\n\t  // the front of the queue.\n\t  Modernizr._q.unshift(function() {\n\t    delete mStyle.style;\n\t  });\n\t\n\t  \n\t\n\t  /**\n\t   * getBody returns the body of a document, or an element that can stand in for\n\t   * the body if a real body does not exist\n\t   *\n\t   * @access private\n\t   * @function getBody\n\t   * @returns {HTMLElement|SVGElement} Returns the real body of a document, or an\n\t   * artificially created element that stands in for the body\n\t   */\n\t\n\t  function getBody() {\n\t    // After page load injecting a fake body doesn't work so check if body exists\n\t    var body = document.body;\n\t\n\t    if (!body) {\n\t      // Can't use the real body create a fake one.\n\t      body = createElement(isSVG ? 'svg' : 'body');\n\t      body.fake = true;\n\t    }\n\t\n\t    return body;\n\t  }\n\t\n\t  ;\n\t\n\t  /**\n\t   * injectElementWithStyles injects an element with style element and some CSS rules\n\t   *\n\t   * @access private\n\t   * @function injectElementWithStyles\n\t   * @param {string} rule - String representing a css rule\n\t   * @param {function} callback - A function that is used to test the injected element\n\t   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n\t   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n\t   * @returns {boolean}\n\t   */\n\t\n\t  function injectElementWithStyles(rule, callback, nodes, testnames) {\n\t    var mod = 'modernizr';\n\t    var style;\n\t    var ret;\n\t    var node;\n\t    var docOverflow;\n\t    var div = createElement('div');\n\t    var body = getBody();\n\t\n\t    if (parseInt(nodes, 10)) {\n\t      // In order not to give false positives we create a node for each test\n\t      // This also allows the method to scale for unspecified uses\n\t      while (nodes--) {\n\t        node = createElement('div');\n\t        node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n\t        div.appendChild(node);\n\t      }\n\t    }\n\t\n\t    style = createElement('style');\n\t    style.type = 'text/css';\n\t    style.id = 's' + mod;\n\t\n\t    // IE6 will false positive on some tests due to the style element inside the test div somehow interfering offsetHeight, so insert it into body or fakebody.\n\t    // Opera will act all quirky when injecting elements in documentElement when page is served as xml, needs fakebody too. #270\n\t    (!body.fake ? div : body).appendChild(style);\n\t    body.appendChild(div);\n\t\n\t    if (style.styleSheet) {\n\t      style.styleSheet.cssText = rule;\n\t    } else {\n\t      style.appendChild(document.createTextNode(rule));\n\t    }\n\t    div.id = mod;\n\t\n\t    if (body.fake) {\n\t      //avoid crashing IE8, if background image is used\n\t      body.style.background = '';\n\t      //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n\t      body.style.overflow = 'hidden';\n\t      docOverflow = docElement.style.overflow;\n\t      docElement.style.overflow = 'hidden';\n\t      docElement.appendChild(body);\n\t    }\n\t\n\t    ret = callback(div, rule);\n\t    // If this is done after page load we don't want to remove the body so check if body exists\n\t    if (body.fake) {\n\t      body.parentNode.removeChild(body);\n\t      docElement.style.overflow = docOverflow;\n\t      // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n\t      docElement.offsetHeight;\n\t    } else {\n\t      div.parentNode.removeChild(div);\n\t    }\n\t\n\t    return !!ret;\n\t\n\t  }\n\t\n\t  ;\n\t\n\t  /**\n\t   * domToCSS takes a camelCase string and converts it to kebab-case\n\t   * e.g. boxSizing -> box-sizing\n\t   *\n\t   * @access private\n\t   * @function domToCSS\n\t   * @param {string} name - String name of camelCase prop we want to convert\n\t   * @returns {string} The kebab-case version of the supplied name\n\t   */\n\t\n\t  function domToCSS(name) {\n\t    return name.replace(/([A-Z])/g, function(str, m1) {\n\t      return '-' + m1.toLowerCase();\n\t    }).replace(/^ms-/, '-ms-');\n\t  }\n\t  ;\n\t\n\t  /**\n\t   * nativeTestProps allows for us to use native feature detection functionality if available.\n\t   * some prefixed form, or false, in the case of an unsupported rule\n\t   *\n\t   * @access private\n\t   * @function nativeTestProps\n\t   * @param {array} props - An array of property names\n\t   * @param {string} value - A string representing the value we want to check via @supports\n\t   * @returns {boolean|undefined} A boolean when @supports exists, undefined otherwise\n\t   */\n\t\n\t  // Accepts a list of property names and a single value\n\t  // Returns `undefined` if native detection not available\n\t  function nativeTestProps(props, value) {\n\t    var i = props.length;\n\t    // Start with the JS API: http://www.w3.org/TR/css3-conditional/#the-css-interface\n\t    if ('CSS' in window && 'supports' in window.CSS) {\n\t      // Try every prefixed variant of the property\n\t      while (i--) {\n\t        if (window.CSS.supports(domToCSS(props[i]), value)) {\n\t          return true;\n\t        }\n\t      }\n\t      return false;\n\t    }\n\t    // Otherwise fall back to at-rule (for Opera 12.x)\n\t    else if ('CSSSupportsRule' in window) {\n\t      // Build a condition string for every prefixed variant\n\t      var conditionText = [];\n\t      while (i--) {\n\t        conditionText.push('(' + domToCSS(props[i]) + ':' + value + ')');\n\t      }\n\t      conditionText = conditionText.join(' or ');\n\t      return injectElementWithStyles('@supports (' + conditionText + ') { #modernizr { position: absolute; } }', function(node) {\n\t        return getComputedStyle(node, null).position == 'absolute';\n\t      });\n\t    }\n\t    return undefined;\n\t  }\n\t  ;\n\t\n\t  /**\n\t   * cssToDOM takes a kebab-case string and converts it to camelCase\n\t   * e.g. box-sizing -> boxSizing\n\t   *\n\t   * @access private\n\t   * @function cssToDOM\n\t   * @param {string} name - String name of kebab-case prop we want to convert\n\t   * @returns {string} The camelCase version of the supplied name\n\t   */\n\t\n\t  function cssToDOM(name) {\n\t    return name.replace(/([a-z])-([a-z])/g, function(str, m1, m2) {\n\t      return m1 + m2.toUpperCase();\n\t    }).replace(/^-/, '');\n\t  }\n\t  ;\n\t\n\t  // testProps is a generic CSS / DOM property test.\n\t\n\t  // In testing support for a given CSS property, it's legit to test:\n\t  //    `elem.style[styleName] !== undefined`\n\t  // If the property is supported it will return an empty string,\n\t  // if unsupported it will return undefined.\n\t\n\t  // We'll take advantage of this quick test and skip setting a style\n\t  // on our modernizr element, but instead just testing undefined vs\n\t  // empty string.\n\t\n\t  // Property names can be provided in either camelCase or kebab-case.\n\t\n\t  function testProps(props, prefixed, value, skipValueTest) {\n\t    skipValueTest = is(skipValueTest, 'undefined') ? false : skipValueTest;\n\t\n\t    // Try native detect first\n\t    if (!is(value, 'undefined')) {\n\t      var result = nativeTestProps(props, value);\n\t      if (!is(result, 'undefined')) {\n\t        return result;\n\t      }\n\t    }\n\t\n\t    // Otherwise do it properly\n\t    var afterInit, i, propsLength, prop, before;\n\t\n\t    // If we don't have a style element, that means we're running async or after\n\t    // the core tests, so we'll need to create our own elements to use\n\t\n\t    // inside of an SVG element, in certain browsers, the `style` element is only\n\t    // defined for valid tags. Therefore, if `modernizr` does not have one, we\n\t    // fall back to a less used element and hope for the best.\n\t    var elems = ['modernizr', 'tspan'];\n\t    while (!mStyle.style) {\n\t      afterInit = true;\n\t      mStyle.modElem = createElement(elems.shift());\n\t      mStyle.style = mStyle.modElem.style;\n\t    }\n\t\n\t    // Delete the objects if we created them.\n\t    function cleanElems() {\n\t      if (afterInit) {\n\t        delete mStyle.style;\n\t        delete mStyle.modElem;\n\t      }\n\t    }\n\t\n\t    propsLength = props.length;\n\t    for (i = 0; i < propsLength; i++) {\n\t      prop = props[i];\n\t      before = mStyle.style[prop];\n\t\n\t      if (contains(prop, '-')) {\n\t        prop = cssToDOM(prop);\n\t      }\n\t\n\t      if (mStyle.style[prop] !== undefined) {\n\t\n\t        // If value to test has been passed in, do a set-and-check test.\n\t        // 0 (integer) is a valid property value, so check that `value` isn't\n\t        // undefined, rather than just checking it's truthy.\n\t        if (!skipValueTest && !is(value, 'undefined')) {\n\t\n\t          // Needs a try catch block because of old IE. This is slow, but will\n\t          // be avoided in most cases because `skipValueTest` will be used.\n\t          try {\n\t            mStyle.style[prop] = value;\n\t          } catch (e) {}\n\t\n\t          // If the property value has changed, we assume the value used is\n\t          // supported. If `value` is empty string, it'll fail here (because\n\t          // it hasn't changed), which matches how browsers have implemented\n\t          // CSS.supports()\n\t          if (mStyle.style[prop] != before) {\n\t            cleanElems();\n\t            return prefixed == 'pfx' ? prop : true;\n\t          }\n\t        }\n\t        // Otherwise just return true, or the property name if this is a\n\t        // `prefixed()` call\n\t        else {\n\t          cleanElems();\n\t          return prefixed == 'pfx' ? prop : true;\n\t        }\n\t      }\n\t    }\n\t    cleanElems();\n\t    return false;\n\t  }\n\t\n\t  ;\n\t\n\t  /**\n\t   * List of JavaScript DOM values used for tests\n\t   *\n\t   * @memberof Modernizr\n\t   * @name Modernizr._domPrefixes\n\t   * @optionName Modernizr._domPrefixes\n\t   * @optionProp domPrefixes\n\t   * @access public\n\t   * @example\n\t   *\n\t   * Modernizr._domPrefixes is exactly the same as [_prefixes](#modernizr-_prefixes), but rather\n\t   * than kebab-case properties, all properties are their Capitalized variant\n\t   *\n\t   * ```js\n\t   * Modernizr._domPrefixes === [ \"Moz\", \"O\", \"ms\", \"Webkit\" ];\n\t   * ```\n\t   */\n\t\n\t  var domPrefixes = (ModernizrProto._config.usePrefixes ? omPrefixes.toLowerCase().split(' ') : []);\n\t  ModernizrProto._domPrefixes = domPrefixes;\n\t  \n\t\n\t  /**\n\t   * fnBind is a super small [bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind) polyfill.\n\t   *\n\t   * @access private\n\t   * @function fnBind\n\t   * @param {function} fn - a function you want to change `this` reference to\n\t   * @param {object} that - the `this` you want to call the function with\n\t   * @returns {function} The wrapped version of the supplied function\n\t   */\n\t\n\t  function fnBind(fn, that) {\n\t    return function() {\n\t      return fn.apply(that, arguments);\n\t    };\n\t  }\n\t\n\t  ;\n\t\n\t  /**\n\t   * testDOMProps is a generic DOM property test; if a browser supports\n\t   *   a certain property, it won't return undefined for it.\n\t   *\n\t   * @access private\n\t   * @function testDOMProps\n\t   * @param {array.<string>} props - An array of properties to test for\n\t   * @param {object} obj - An object or Element you want to use to test the parameters again\n\t   * @param {boolean|object} elem - An Element to bind the property lookup again. Use `false` to prevent the check\n\t   */\n\t  function testDOMProps(props, obj, elem) {\n\t    var item;\n\t\n\t    for (var i in props) {\n\t      if (props[i] in obj) {\n\t\n\t        // return the property name as a string\n\t        if (elem === false) {\n\t          return props[i];\n\t        }\n\t\n\t        item = obj[props[i]];\n\t\n\t        // let's bind a function\n\t        if (is(item, 'function')) {\n\t          // bind to obj unless overriden\n\t          return fnBind(item, elem || obj);\n\t        }\n\t\n\t        // return the unbound function or obj or value\n\t        return item;\n\t      }\n\t    }\n\t    return false;\n\t  }\n\t\n\t  ;\n\t\n\t  /**\n\t   * testPropsAll tests a list of DOM properties we want to check against.\n\t   * We specify literally ALL possible (known and/or likely) properties on\n\t   * the element including the non-vendor prefixed one, for forward-\n\t   * compatibility.\n\t   *\n\t   * @access private\n\t   * @function testPropsAll\n\t   * @param {string} prop - A string of the property to test for\n\t   * @param {string|object} [prefixed] - An object to check the prefixed properties on. Use a string to skip\n\t   * @param {HTMLElement|SVGElement} [elem] - An element used to test the property and value against\n\t   * @param {string} [value] - A string of a css value\n\t   * @param {boolean} [skipValueTest] - An boolean representing if you want to test if value sticks when set\n\t   */\n\t  function testPropsAll(prop, prefixed, elem, value, skipValueTest) {\n\t\n\t    var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n\t    props = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\n\t\n\t    // did they call .prefixed('boxSizing') or are we just testing a prop?\n\t    if (is(prefixed, 'string') || is(prefixed, 'undefined')) {\n\t      return testProps(props, prefixed, value, skipValueTest);\n\t\n\t      // otherwise, they called .prefixed('requestAnimationFrame', window[, elem])\n\t    } else {\n\t      props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\n\t      return testDOMProps(props, prefixed, elem);\n\t    }\n\t  }\n\t\n\t  // Modernizr.testAllProps() investigates whether a given style property,\n\t  // or any of its vendor-prefixed variants, is recognized\n\t  //\n\t  // Note that the property names must be provided in the camelCase variant.\n\t  // Modernizr.testAllProps('boxSizing')\n\t  ModernizrProto.testAllProps = testPropsAll;\n\t\n\t  \n\t\n\t  /**\n\t   * testAllProps determines whether a given CSS property is supported in the browser\n\t   *\n\t   * @memberof Modernizr\n\t   * @name Modernizr.testAllProps\n\t   * @optionName Modernizr.testAllProps()\n\t   * @optionProp testAllProps\n\t   * @access public\n\t   * @function testAllProps\n\t   * @param {string} prop - String naming the property to test (either camelCase or kebab-case)\n\t   * @param {string} [value] - String of the value to test\n\t   * @param {boolean} [skipValueTest=false] - Whether to skip testing that the value is supported when using non-native detection\n\t   * @example\n\t   *\n\t   * testAllProps determines whether a given CSS property, in some prefixed form,\n\t   * is supported by the browser.\n\t   *\n\t   * ```js\n\t   * testAllProps('boxSizing')  // true\n\t   * ```\n\t   *\n\t   * It can optionally be given a CSS value in string form to test if a property\n\t   * value is valid\n\t   *\n\t   * ```js\n\t   * testAllProps('display', 'block') // true\n\t   * testAllProps('display', 'penguin') // false\n\t   * ```\n\t   *\n\t   * A boolean can be passed as a third parameter to skip the value check when\n\t   * native detection (@supports) isn't available.\n\t   *\n\t   * ```js\n\t   * testAllProps('shapeOutside', 'content-box', true);\n\t   * ```\n\t   */\n\t\n\t  function testAllProps(prop, value, skipValueTest) {\n\t    return testPropsAll(prop, undefined, undefined, value, skipValueTest);\n\t  }\n\t  ModernizrProto.testAllProps = testAllProps;\n\t  \n\t/*!\n\t{\n\t  \"name\": \"CSS Transforms\",\n\t  \"property\": \"csstransforms\",\n\t  \"caniuse\": \"transforms2d\",\n\t  \"tags\": [\"css\"]\n\t}\n\t!*/\n\t\n\t  Modernizr.addTest('csstransforms', function() {\n\t    // Android < 3.0 is buggy, so we sniff and blacklist\n\t    // http://git.io/hHzL7w\n\t    return navigator.userAgent.indexOf('Android 2.') === -1 &&\n\t           testAllProps('transform', 'scale(1)', true);\n\t  });\n\t\n\t\n\t  /**\n\t   * testStyles injects an element with style element and some CSS rules\n\t   *\n\t   * @memberof Modernizr\n\t   * @name Modernizr.testStyles\n\t   * @optionName Modernizr.testStyles()\n\t   * @optionProp testStyles\n\t   * @access public\n\t   * @function testStyles\n\t   * @param {string} rule - String representing a css rule\n\t   * @param {function} callback - A function that is used to test the injected element\n\t   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n\t   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n\t   * @returns {boolean}\n\t   * @example\n\t   *\n\t   * `Modernizr.testStyles` takes a CSS rule and injects it onto the current page\n\t   * along with (possibly multiple) DOM elements. This lets you check for features\n\t   * that can not be detected by simply checking the [IDL](https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Interface_development_guide/IDL_interface_rules).\n\t   *\n\t   * ```js\n\t   * Modernizr.testStyles('#modernizr { width: 9px; color: papayawhip; }', function(elem, rule) {\n\t   *   // elem is the first DOM node in the page (by default #modernizr)\n\t   *   // rule is the first argument you supplied - the CSS rule in string form\n\t   *\n\t   *   addTest('widthworks', elem.style.width === '9px')\n\t   * });\n\t   * ```\n\t   *\n\t   * If your test requires multiple nodes, you can include a third argument\n\t   * indicating how many additional div elements to include on the page. The\n\t   * additional nodes are injected as children of the `elem` that is returned as\n\t   * the first argument to the callback.\n\t   *\n\t   * ```js\n\t   * Modernizr.testStyles('#modernizr {width: 1px}; #modernizr2 {width: 2px}', function(elem) {\n\t   *   document.getElementById('modernizr').style.width === '1px'; // true\n\t   *   document.getElementById('modernizr2').style.width === '2px'; // true\n\t   *   elem.firstChild === document.getElementById('modernizr2'); // true\n\t   * }, 1);\n\t   * ```\n\t   *\n\t   * By default, all of the additional elements have an ID of `modernizr[n]`, where\n\t   * `n` is its index (e.g. the first additional, second overall is `#modernizr2`,\n\t   * the second additional is `#modernizr3`, etc.).\n\t   * If you want to have more meaningful IDs for your function, you can provide\n\t   * them as the fourth argument, as an array of strings\n\t   *\n\t   * ```js\n\t   * Modernizr.testStyles('#foo {width: 10px}; #bar {height: 20px}', function(elem) {\n\t   *   elem.firstChild === document.getElementById('foo'); // true\n\t   *   elem.lastChild === document.getElementById('bar'); // true\n\t   * }, 2, ['foo', 'bar']);\n\t   * ```\n\t   *\n\t   */\n\t\n\t  var testStyles = ModernizrProto.testStyles = injectElementWithStyles;\n\t  \n\t/*!\n\t{\n\t  \"name\": \"CSS Supports\",\n\t  \"property\": \"supports\",\n\t  \"caniuse\": \"css-featurequeries\",\n\t  \"tags\": [\"css\"],\n\t  \"builderAliases\": [\"css_supports\"],\n\t  \"notes\": [{\n\t    \"name\": \"W3 Spec\",\n\t    \"href\": \"http://dev.w3.org/csswg/css3-conditional/#at-supports\"\n\t  },{\n\t    \"name\": \"Related Github Issue\",\n\t    \"href\": \"github.com/Modernizr/Modernizr/issues/648\"\n\t  },{\n\t    \"name\": \"W3 Info\",\n\t    \"href\": \"http://dev.w3.org/csswg/css3-conditional/#the-csssupportsrule-interface\"\n\t  }]\n\t}\n\t!*/\n\t\n\t  var newSyntax = 'CSS' in window && 'supports' in window.CSS;\n\t  var oldSyntax = 'supportsCSS' in window;\n\t  Modernizr.addTest('supports', newSyntax || oldSyntax);\n\t\n\t/*!\n\t{\n\t  \"name\": \"CSS Transforms 3D\",\n\t  \"property\": \"csstransforms3d\",\n\t  \"caniuse\": \"transforms3d\",\n\t  \"tags\": [\"css\"],\n\t  \"warnings\": [\n\t    \"Chrome may occassionally fail this test on some systems; more info: https://code.google.com/p/chromium/issues/detail?id=129004\"\n\t  ]\n\t}\n\t!*/\n\t\n\t  Modernizr.addTest('csstransforms3d', function() {\n\t    var ret = !!testAllProps('perspective', '1px', true);\n\t    var usePrefix = Modernizr._config.usePrefixes;\n\t\n\t    // Webkit's 3D transforms are passed off to the browser's own graphics renderer.\n\t    //   It works fine in Safari on Leopard and Snow Leopard, but not in Chrome in\n\t    //   some conditions. As a result, Webkit typically recognizes the syntax but\n\t    //   will sometimes throw a false positive, thus we must do a more thorough check:\n\t    if (ret && (!usePrefix || 'webkitPerspective' in docElement.style)) {\n\t      var mq;\n\t      var defaultStyle = '#modernizr{width:0;height:0}';\n\t      // Use CSS Conditional Rules if available\n\t      if (Modernizr.supports) {\n\t        mq = '@supports (perspective: 1px)';\n\t      } else {\n\t        // Otherwise, Webkit allows this media query to succeed only if the feature is enabled.\n\t        // `@media (transform-3d),(-webkit-transform-3d){ ... }`\n\t        mq = '@media (transform-3d)';\n\t        if (usePrefix) {\n\t          mq += ',(-webkit-transform-3d)';\n\t        }\n\t      }\n\t\n\t      mq += '{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}';\n\t\n\t      testStyles(defaultStyle + mq, function(elem) {\n\t        ret = elem.offsetWidth === 7 && elem.offsetHeight === 18;\n\t      });\n\t    }\n\t\n\t    return ret;\n\t  });\n\t\n\t\n\t  // Run each test\n\t  testRunner();\n\t\n\t  delete ModernizrProto.addTest;\n\t  delete ModernizrProto.addAsyncTest;\n\t\n\t  // Run the things that are supposed to run after the tests\n\t  for (var i = 0; i < Modernizr._q.length; i++) {\n\t    Modernizr._q[i]();\n\t  }\n\t\n\t  // Leak Modernizr namespace\n\t  window.Modernizr = Modernizr;\n\t\n\t\n\t;\n\t\n\t})(window, document);\n\tmodule.exports = window.Modernizr;\n\t})(window);\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar bubbleset = __webpack_require__(11);\n\tvar bubble = __webpack_require__(9);\n\tvar cursor = __webpack_require__(20);\n\tvar select = __webpack_require__(14);\n\t\n\tvar _require = __webpack_require__(7);\n\t\n\tvar KEY = _require.KEY;\n\t\n\tvar context = __webpack_require__(1);\n\tvar text = __webpack_require__(8);\n\t\n\texports.init = function (nodeSet) {\n\t    nodeSet.addEventListener('focus', focus);\n\t    nodeSet.addEventListener('blur', blur);\n\t    nodeSet.addEventListener('keyup', keyup);\n\t    nodeSet.addEventListener('keydown', keydown);\n\t    nodeSet.addEventListener('keypress', keypress);\n\t    nodeSet.addEventListener('paste', paste);\n\t};\n\t\n\texports.destroy = function (nodeSet) {\n\t    nodeSet.removeEventListener('focus', focus);\n\t    nodeSet.removeEventListener('blur', blur);\n\t    nodeSet.removeEventListener('keyup', keyup);\n\t    nodeSet.removeEventListener('keydown', keydown);\n\t    nodeSet.removeEventListener('keypress', keypress);\n\t    nodeSet.removeEventListener('paste', paste);\n\t};\n\t\n\tfunction keyup(event) {\n\t    var code = event.charCode || event.keyCode;\n\t    var isPrintableChar = event.key ? event.key.length === 1 : (code > 47 || code === KEY.Space || code === KEY.Backspace) && code !== KEY.Cmd;\n\t\n\t    if (isPrintableChar) {\n\t        event.currentTarget.fireInput();\n\t    }\n\t}\n\t\n\tfunction keypress(event) {\n\t    var code = event.charCode || event.keyCode;\n\t    var nodeSet = event.currentTarget;\n\t\n\t    /* eslint no-case-declarations: 0 */\n\t    switch (code) {\n\t        case KEY.Enter:\n\t            event.preventDefault();\n\t            if (!nodeSet.hasAttribute('disable-controls')) {\n\t                bubble.bubbling(nodeSet);\n\t                cursor.restore(nodeSet);\n\t            }\n\t            break;\n\t\n\t        case KEY.Comma:\n\t        case KEY.Semicolon:\n\t            event.preventDefault();\n\t            bubble.bubbling(nodeSet);\n\t            cursor.restore(nodeSet);\n\t            break;\n\t    }\n\t}\n\t\n\tfunction keydown(event) {\n\t    var code = event.charCode || event.keyCode;\n\t    var metaKey = event.ctrlKey || event.metaKey;\n\t    var nodeSet = event.currentTarget;\n\t    var enable = !nodeSet.hasAttribute('disable-controls');\n\t\n\t    switch (code) {\n\t        case KEY.Esc:\n\t            event.preventDefault();\n\t            bubble.bubbling(nodeSet);\n\t            cursor.restore(nodeSet);\n\t            break;\n\t\n\t        case KEY.Backspace:\n\t            event.preventDefault();\n\t            backSpace(event);\n\t            break;\n\t\n\t        case KEY.Left:\n\t            event.preventDefault();\n\t            arrowLeft(event);\n\t            break;\n\t\n\t        // сдвигаем курсор в начало списка\n\t        case KEY.Top:\n\t            event.preventDefault();\n\t            if (enable) {\n\t                var headBubble = bubbleset.headBubble(nodeSet);\n\t                headBubble && select.uniq(headBubble);\n\t            }\n\t            break;\n\t\n\t        case KEY.Right:\n\t            event.preventDefault();\n\t            arrowRight(event);\n\t            break;\n\t\n\t        // сдвигаем курсор в конец списка\n\t        // case KEY.Tab:\n\t        case KEY.Bottom:\n\t            event.preventDefault();\n\t            if (enable && select.has(nodeSet)) {\n\t                cursor.restore(nodeSet);\n\t            }\n\t            break;\n\t\n\t        case KEY.a:\n\t            if (metaKey) {\n\t                event.preventDefault();\n\t\n\t                if (!text.selectAll(null, event.currentTarget)) {\n\t                    select.all(nodeSet);\n\t                }\n\t            }\n\t            break;\n\t    }\n\t}\n\t\n\tfunction arrowLeft(event) {\n\t    var selection = context.getSelection();\n\t\n\t    if (text.arrowLeft(selection, event.shiftKey)) {\n\t        return;\n\t    }\n\t\n\t    if (selection.anchorNode && selection.anchorNode.nodeType === Node.TEXT_NODE) {\n\t        var nodeBubble = bubbleset.prevBubble(selection.anchorNode);\n\t        nodeBubble && select.uniq(nodeBubble);\n\t        return;\n\t    }\n\t\n\t    var nodeSet = event.currentTarget;\n\t    var list = select.get(nodeSet);\n\t    var begin = list.length > 1 && list[0] === nodeSet.startRangeSelect ? list[list.length - 1] : list[0];\n\t\n\t    var node = bubbleset.prevBubble(begin);\n\t\n\t    if (node) {\n\t        if (event.shiftKey) {\n\t            select.range(node);\n\t        } else {\n\t            select.uniq(node);\n\t        }\n\t    }\n\t}\n\t\n\tfunction arrowRight(event) {\n\t    var selection = context.getSelection();\n\t\n\t    if (text.arrowRight(selection, event.shiftKey)) {\n\t        return;\n\t    }\n\t\n\t    if (selection.focusNode && selection.focusNode.nodeType === Node.TEXT_NODE) {\n\t        var nodeBubble = bubbleset.nextBubble(selection.focusNode);\n\t        nodeBubble && select.uniq(nodeBubble);\n\t        return;\n\t    }\n\t\n\t    var nodeSet = event.currentTarget;\n\t    var list = select.get(nodeSet);\n\t    var begin = list.length > 1 && list[list.length - 1] === nodeSet.startRangeSelect ? list[0] : list[list.length - 1];\n\t\n\t    var node = bubbleset.nextBubble(begin);\n\t\n\t    if (node) {\n\t        if (event.shiftKey) {\n\t            select.range(node);\n\t        } else {\n\t            select.uniq(node);\n\t        }\n\t    } else if (begin && begin.nextSibling && begin.nextSibling.nodeType === Node.TEXT_NODE) {\n\t        select.clear(nodeSet);\n\t        selection.collapse(begin.nextSibling, 0);\n\t    } else {\n\t        cursor.restore(nodeSet);\n\t    }\n\t}\n\t\n\tfunction backSpace(event) {\n\t    var nodeSet = event.currentTarget;\n\t    nodeSet.normalize();\n\t\n\t    var selection = context.getSelection();\n\t    if (!selection) {\n\t        return;\n\t    }\n\t\n\t    if (selection.isCollapsed) {\n\t        if (text.arrowLeft(selection, true)) {\n\t            text.remove(selection);\n\t            nodeSet.fireInput();\n\t            return;\n\t        }\n\t    } else {\n\t        text.remove(selection);\n\t        nodeSet.fireInput();\n\t        return;\n\t    }\n\t\n\t    var node = bubbleset.findBubbleLeft(selection);\n\t    if (node) {\n\t        select.uniq(node);\n\t        return;\n\t    }\n\t\n\t    var list = select.get(nodeSet);\n\t\n\t    if (list.length) {\n\t        var prevBubble = list[0].previousSibling;\n\t        var nextBubble = list[list.length - 1].nextSibling;\n\t        list.forEach(function (item) {\n\t            return item.parentNode.removeChild(item);\n\t        });\n\t\n\t        if (bubble.isBubbleNode(prevBubble)) {\n\t            select.uniq(prevBubble);\n\t        } else if (bubble.isBubbleNode(nextBubble)) {\n\t            select.uniq(nextBubble);\n\t        } else {\n\t            nodeSet.focus();\n\t            cursor.restore(nodeSet);\n\t        }\n\t\n\t        nodeSet.fireChange();\n\t    }\n\t}\n\t\n\tfunction paste(event) {\n\t    event.preventDefault();\n\t\n\t    var clipboardData = event.clipboardData;\n\t    if (!clipboardData) {\n\t        return;\n\t    }\n\t\n\t    var contentType = 'text/plain';\n\t    var data = clipboardData.getData && clipboardData.getData(contentType);\n\t\n\t    if (!text.replaceString(data) && clipboardData.items) {\n\t        Array.prototype.slice.call(clipboardData.items).filter(function (item) {\n\t            return item.kind === 'string' && item.type === contentType;\n\t        }).some(function (item) {\n\t            item.getAsString(text.replaceString);\n\t            return true;\n\t        });\n\t    }\n\t}\n\t\n\tfunction blur(event) {\n\t    select.clear(event.currentTarget);\n\t    bubble.bubbling(event.currentTarget);\n\t}\n\t\n\tfunction focus(event) {\n\t    cursor.restore(event.currentTarget);\n\t}\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/**\n\t * @module x-bubbles/cursor\n\t */\n\t\n\tvar context = __webpack_require__(1);\n\tvar text = __webpack_require__(8);\n\tvar select = __webpack_require__(14);\n\t\n\texports.restore = restore;\n\texports.restoreBasis = restoreBasis;\n\t\n\t/**\n\t * Reset the cursor position to the end of the input field.\n\t * @alias module:x-bubbles/cursor.restore\n\t * @param {HTMLElement} nodeSet\n\t */\n\tfunction restore(nodeSet) {\n\t    select.clear(nodeSet);\n\t    var basis = restoreBasis(nodeSet);\n\t    var selection = context.getSelection();\n\t    selection.removeAllRanges();\n\t    selection.collapse(basis, 1);\n\t}\n\t\n\t/**\n\t * The creation of the fake text at the end childNodes\n\t * @alias module:x-bubbles/cursor.restoreBasis\n\t * @param {HTMLElement} nodeSet\n\t * @returns {HTMLTextElement} fake text node\n\t */\n\tfunction restoreBasis(nodeSet) {\n\t    var fakeText = text.createZws();\n\t\n\t    if (nodeSet.hasChildNodes()) {\n\t        var lastNode = nodeSet.childNodes[nodeSet.childNodes.length - 1];\n\t\n\t        if (lastNode.isEqualNode(fakeText)) {\n\t            fakeText = lastNode;\n\t        } else {\n\t            nodeSet.appendChild(fakeText);\n\t        }\n\t    } else {\n\t        nodeSet.appendChild(fakeText);\n\t    }\n\t\n\t    return fakeText;\n\t}\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar bubbleset = __webpack_require__(11);\n\tvar bubble = __webpack_require__(9);\n\t\n\tmodule.exports = function (event) {\n\t    var nodeSet = bubbleset.closestNodeSet(event.target);\n\t\n\t    if (!nodeSet) {\n\t        return;\n\t    }\n\t\n\t    var nodeBubble = bubbleset.closestNodeBubble(event.target);\n\t\n\t    if (!nodeBubble) {\n\t        return;\n\t    }\n\t\n\t    event.preventDefault();\n\t\n\t    bubble.edit(nodeSet, nodeBubble);\n\t};\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar context = __webpack_require__(1);\n\tvar bubbleset = __webpack_require__(11);\n\tvar select = __webpack_require__(14);\n\tvar cursor = __webpack_require__(20);\n\t\n\tmodule.exports = function (event) {\n\t    var nodeSet = bubbleset.closestNodeSet(event.target);\n\t\n\t    if (!nodeSet) {\n\t        return;\n\t    }\n\t\n\t    var nodeBubble = bubbleset.closestNodeBubble(event.target);\n\t\n\t    if (!nodeBubble) {\n\t        select.clear(nodeSet);\n\t\n\t        var selection = context.getSelection();\n\t\n\t        if (!selection || !selection.anchorNode || selection.anchorNode.nodeType !== Node.TEXT_NODE) {\n\t\n\t            cursor.restore(nodeSet);\n\t        }\n\t\n\t        return;\n\t    }\n\t\n\t    if (event.metaKey || event.ctrlKey) {\n\t        select.add(nodeBubble);\n\t    } else if (event.shiftKey) {\n\t        if (!nodeSet.startRangeSelect) {\n\t            select.uniq(nodeBubble);\n\t        } else {\n\t            select.range(nodeBubble);\n\t        }\n\t    } else {\n\t        select.toggleUniq(nodeBubble);\n\t    }\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** x-bubbles.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 09a7c712d4f1611009da\n **/","const context = require('./context');\nconst events = require('./core/events');\nconst drag = require('./core/drag');\nconst editor = require('./core/editor');\nconst bubble = require('./core/bubble');\nconst bubbleset = require('./core/bubbleset');\nconst text = require('./core/text');\nconst cursor = require('./core/cursor');\n\nconst dblclick = require('./core/events/dblclick');\nconst click = require('./core/events/click');\n\nconst XBubbles = Object.create(HTMLDivElement.prototype, {\n    createdCallback: {\n        value: function () {\n            this.setAttribute('contenteditable', 'true');\n            this.setAttribute('spellcheck', 'false');\n\n            this.fireChange = events.throttle(events.fireChange);\n            this.fireEdit = events.throttle(events.fireEdit);\n            this.fireInput = events.throttle(events.fireInput);\n\n            this.addEventListener('resize', events.prevent);\n            this.addEventListener('resizestart', events.prevent);\n            this.addEventListener('mscontrolselect', events.prevent);\n        }\n    },\n\n    attachedCallback: {\n        value: function () {\n            this.addEventListener('click', click);\n            this.addEventListener('dblclick', dblclick);\n\n            drag.init(this);\n            editor.init(this);\n            bubble.bubbling(this);\n        }\n    },\n\n    detachedCallback: {\n        value: function () {\n            this.removeEventListener('click', click);\n            this.removeEventListener('dblclick', dblclick);\n\n            drag.destroy(this);\n            editor.destroy(this);\n        }\n    },\n\n    /*\n    attributeChangedCallback: {\n        value: function (name, prevValue, value) {}\n    },\n    */\n\n    options: {\n        value: function (name, value) {\n            if (!this._options) {\n                this._options = {\n                    classBubble: 'bubble',\n                    draggable: true,\n                    separator: /[,;]/,\n                    ending: null, // /\\@ya\\.ru/g;\n                    begining: null,\n                    bubbleFormation: function () {},\n                    bubbleDeformation: function () {},\n                    ...this.dataset\n                };\n\n                optionsPrepare(this._options);\n            }\n\n            if (typeof value !== 'undefined') {\n                this._options[ name ] = value;\n                optionsPrepare(this._options);\n\n            } else {\n                return this._options[ name ];\n            }\n        }\n    },\n\n    items: {\n        get: function () {\n            return bubbleset.getBubbles(this);\n        }\n    },\n\n    setContent: {\n        value: function (data) {\n            while (this.firstChild) {\n                this.removeChild(this.firstChild);\n            }\n\n            data = text.html2text(data);\n            this.appendChild(context.document.createTextNode(data));\n            bubble.bubbling(this);\n            cursor.restore(this);\n        }\n    },\n\n    addBubble: {\n        value: function (bubbleText, data) {\n            const nodeBubble = bubble.create(this, bubbleText, data);\n\n            if (!nodeBubble) {\n                return false;\n            }\n\n            if (text.text2bubble(this, nodeBubble)) {\n                cursor.restore(this);\n                return true;\n            }\n\n            return false;\n        }\n    },\n\n    removeBubble: {\n        value: function (nodeBubble) {\n            if (this.contains(nodeBubble)) {\n                this.removeChild(nodeBubble);\n                this.fireChange();\n                return true;\n            }\n\n            return false;\n        }\n    },\n\n    editBubble: {\n        value: function (nodeBubble) {\n            if (this.contains(nodeBubble)) {\n                return bubble.edit(this, nodeBubble);\n            }\n\n            return false;\n        }\n    }\n});\n\nmodule.exports = context.document.registerElement('x-bubbles', {\n    extends: 'div',\n    prototype: XBubbles\n});\n\nfunction optionsPrepare(options) {\n    const typeBubbleFormation = typeof options.bubbleFormation;\n    const typeBubbleDeformation = typeof options.bubbleDeformation;\n    const typeDraggable = typeof options.draggable;\n\n    switch (typeBubbleFormation) {\n    case 'string':\n        options.bubbleFormation = new Function('wrap', `(function(wrap) { ${options.bubbleFormation}(wrap); }(wrap));`);\n        break;\n    case 'function':\n        break;\n    default:\n        options.bubbleFormation = function () {};\n    }\n\n    switch (typeBubbleDeformation) {\n    case 'string':\n        options.bubbleDeformation = new Function('wrap', `return (function(wrap) { return ${options.bubbleDeformation}(wrap); }(wrap));`);\n        break;\n    case 'function':\n        break;\n    default:\n        options.bubbleDeformation = function () {};\n    }\n\n    switch (typeDraggable) {\n    case 'string':\n        options.draggable = (options.draggable === 'true' || options.draggable === 'on');\n        break;\n    case 'boolean':\n        break;\n    default:\n        options.draggable = true;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","module.exports = (function () {\n    /* eslint no-eval: 0 */\n    return this || (1, eval)('this');\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./context.js\n **/","/**\n * @module x-bubbles/event\n */\n\nconst raf = require('raf');\nconst context = require('../context');\nconst CustomEventCommon = require('../polyfills/CustomEventCommon');\nconst { EV } = require('./constant');\nconst text = require('./text');\n\nexports.scrollX = scrollX;\nexports.scrollY = scrollY;\n\nexports.pageX = function (event) {\n    return (event.pageX === null && event.clientX !== null) ?\n        event.clientX + scrollX() :\n        event.pageX;\n};\n\nexports.pageY = function (event) {\n    return (event.pageY === null && event.clientY !== null) ?\n        event.clientY + scrollY() :\n        event.pageY;\n};\n\nexports.one = function (target, eventName, userCallback) {\n    return target.addEventListener(eventName, function callback(event) {\n        target.removeEventListener(eventName, callback);\n        userCallback(event);\n    });\n};\n\nexports.on = function (target, eventName, userCallback) {\n    return target.addEventListener(eventName, userCallback);\n};\n\nexports.off = function (target, eventName, userCallback) {\n    return target.removeEventListener(eventName, userCallback);\n};\n\nexports.prevent = function (event) {\n    event.cancelBubble = true;\n    event.returnValue = false;\n    event.stopPropagation();\n    event.preventDefault();\n    return false;\n};\n\nexports.fireEdit = function (nodeBubble) {\n    dispatch(this, EV.BUBBLE_EDIT, {\n        bubbles: false,\n        cancelable: false,\n        detail: { data: nodeBubble }\n    });\n};\n\nexports.fireChange = function () {\n    dispatch(this, EV.CHANGE, {\n        bubbles: false,\n        cancelable: false\n    });\n};\n\nexports.fireInput = function () {\n    const textRange = text.currentTextRange();\n    const editText = textRange && text.textClean(textRange.toString()) || '';\n\n    if (this._bubbleValue !== editText) {\n        this._bubbleValue = editText;\n\n        dispatch(this, EV.BUBBLE_INPUT, {\n            bubbles: false,\n            cancelable: false,\n            detail: { data: editText }\n        });\n    }\n};\n\nexports.throttle = function (callback) {\n    let throttle = 0;\n    const animationCallback = function () {\n        throttle = 0;\n    };\n\n    return function () {\n        if (throttle) {\n            return;\n        }\n\n        throttle = raf(animationCallback);\n\n        callback.apply(this, arguments);\n    };\n};\n\nfunction scrollX() {\n    const html = context.document.documentElement;\n    const body = context.document.body;\n    return (html && html.scrollLeft || body && body.scrollLeft || 0) - (html.clientLeft || 0);\n}\n\nfunction scrollY() {\n    const html = context.document.documentElement;\n    const body = context.document.body;\n    return (html && html.scrollTop || body && body.scrollTop || 0) - (html.clientTop || 0);\n}\n\n/**\n * Designer events.\n *\n * @example\n * const { Custom } = require('event');\n *\n * new Custom('custom-event', {\n *     bubbles: true,\n *     cancelable: true,\n *     detail: { data: '123' }\n * })\n *\n * @alias module:x-bubbles/event~Custom\n * @constructor\n */\nconst Custom = (function () {\n    if (typeof context.CustomEvent === 'function') {\n        return context.CustomEvent;\n    }\n\n    return CustomEventCommon;\n}());\n\n/**\n * Dispatch event.\n *\n * @example\n * const { dispatch } = require('event');\n * dispatch(node, 'custom-event', {\n *     bubbles: true,\n *     cancelable: true,\n *     detail: { data: '123' }\n * })\n *\n * @alias module:x-bubbles/event.dispatch\n * @param {HTMLElement} element node events\n * @param {string} name event name\n * @param {Object} params the event parameters\n * @param {boolean} [params.bubbles=false]\n * @param {boolean} [params.cancelable=false]\n * @param {*} [params.detail]\n */\nfunction dispatch(element, name, params = {}) {\n    element.dispatchEvent(new Custom(name, params));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/events.js\n **/","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/raf/index.js\n ** module id = 3\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/performance-now/lib/performance-now.js\n ** module id = 4\n ** module chunks = 0\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/process/browser.js\n ** module id = 5\n ** module chunks = 0\n **/","const context = require('../context');\n\n/**\n * @constant {Document}\n * @private\n */\nconst doc = context.document;\n\n/**\n * @constant {Object}\n * @private\n */\nconst protoEvent = context.Event.prototype;\n\nlet issetCustomEvent = false;\n\ntry {\n    issetCustomEvent = Boolean(doc.createEvent('CustomEvent'));\n} catch (e) {\n    // do nothing\n}\n\n/**\n * The original function \"stopImmediatePropagation\"\n * @constant {function}\n * @private\n */\nconst stopImmediatePropagation = protoEvent.stopImmediatePropagation;\n\n/**\n * Override function to set properties \"immediatePropagationStopped\"\n */\nprotoEvent.stopImmediatePropagation = function () {\n    this.immediatePropagationStopped = true;\n\n    if (stopImmediatePropagation) {\n        stopImmediatePropagation.call(this);\n\n    } else {\n        this.stopPropagation();\n    }\n};\n\nlet CustomEventCommon = (function () {\n    if (issetCustomEvent) {\n        return function (eventName, params) {\n            params = params || {};\n\n            let bubbles = Boolean(params.bubbles);\n            let cancelable = Boolean(params.cancelable);\n            let evt = doc.createEvent('CustomEvent');\n\n            evt.initCustomEvent(eventName, bubbles, cancelable, params.detail);\n\n            return evt;\n        };\n    }\n\n    return function (eventName, params) {\n        params = params || {};\n\n        let bubbles = Boolean(params.bubbles);\n        let cancelable = Boolean(params.cancelable);\n        let evt = doc.createEvent('Event');\n\n        evt.initEvent(eventName, bubbles, cancelable);\n        evt.detail = params.detail;\n\n        return evt;\n    };\n}());\n\nCustomEventCommon.prototype = protoEvent;\n\nmodule.exports = CustomEventCommon;\n\n\n\n/** WEBPACK FOOTER **\n ** ./polyfills/CustomEventCommon.js\n **/","exports.KEY = {\n    a: 65,\n    Backspace: 8,\n    Bottom: 40,\n    Cmd: 91,\n    Comma: 44, // ,\n    Enter: 13, // Enter\n    Esc: 27,\n    Left: 37,\n    Right: 39,\n    Semicolon: 59, // ;\n    Space: 32,\n    Tab: 9,\n    Top: 38,\n};\n\nexports.CLS = {\n    DRAGSTART: 'drag',\n    DROPZONE: 'dropzone',\n};\n\nexports.EV = {\n    BUBBLE_EDIT: 'bubble-edit',\n    BUBBLE_INPUT: 'bubble-input',\n    CHANGE: 'change',\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/constant.js\n **/","const context = require('../context');\nconst bubble = require('./bubble');\nconst bubbleset = require('./bubbleset');\n\n/* eslint-disable max-len */\nconst REG_REPLACE_NON_PRINTABLE = /[\\0-\\x1F\\x7F-\\x9F\\xAD\\u0378\\u0379\\u037F-\\u0383\\u038B\\u038D\\u03A2\\u0528-\\u0530\\u0557\\u0558\\u0560\\u0588\\u058B-\\u058E\\u0590\\u05C8-\\u05CF\\u05EB-\\u05EF\\u05F5-\\u0605\\u061C\\u061D\\u06DD\\u070E\\u070F\\u074B\\u074C\\u07B2-\\u07BF\\u07FB-\\u07FF\\u082E\\u082F\\u083F\\u085C\\u085D\\u085F-\\u089F\\u08A1\\u08AD-\\u08E3\\u08FF\\u0978\\u0980\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09FC-\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A76-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF2-\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B55\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B78-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BFB-\\u0C00\\u0C04\\u0C0D\\u0C11\\u0C29\\u0C34\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5A-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C77\\u0C80\\u0C81\\u0C84\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0D01\\u0D04\\u0D0D\\u0D11\\u0D3B\\u0D3C\\u0D45\\u0D49\\u0D4F-\\u0D56\\u0D58-\\u0D5F\\u0D64\\u0D65\\u0D76-\\u0D78\\u0D80\\u0D81\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DF1\\u0DF5-\\u0E00\\u0E3B-\\u0E3E\\u0E5C-\\u0E80\\u0E83\\u0E85\\u0E86\\u0E89\\u0E8B\\u0E8C\\u0E8E-\\u0E93\\u0E98\\u0EA0\\u0EA4\\u0EA6\\u0EA8\\u0EA9\\u0EAC\\u0EBA\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F48\\u0F6D-\\u0F70\\u0F98\\u0FBD\\u0FCD\\u0FDB-\\u0FFF\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u137D-\\u137F\\u139A-\\u139F\\u13F5-\\u13FF\\u169D-\\u169F\\u16F1-\\u16FF\\u170D\\u1715-\\u171F\\u1737-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17DE\\u17DF\\u17EA-\\u17EF\\u17FA-\\u17FF\\u180F\\u181A-\\u181F\\u1878-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191D-\\u191F\\u192C-\\u192F\\u193C-\\u193F\\u1941-\\u1943\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DB-\\u19DD\\u1A1C\\u1A1D\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1A9F\\u1AAE-\\u1AFF\\u1B4C-\\u1B4F\\u1B7D-\\u1B7F\\u1BF4-\\u1BFB\\u1C38-\\u1C3A\\u1C4A-\\u1C4C\\u1C80-\\u1CBF\\u1CC8-\\u1CCF\\u1CF7-\\u1CFF\\u1DE7-\\u1DFB\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FC5\\u1FD4\\u1FD5\\u1FDC\\u1FF0\\u1FF1\\u1FF5\\u1FFF\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u206F\\u2072\\u2073\\u208F\\u209D-\\u209F\\u20BB-\\u20CF\\u20F1-\\u20FF\\u218A-\\u218F\\u23F4-\\u23FF\\u2427-\\u243F\\u244B-\\u245F\\u2700\\u2B4D-\\u2B4F\\u2B5A-\\u2BFF\\u2C2F\\u2C5F\\u2CF4-\\u2CF8\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D71-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E3C-\\u2E7F\\u2E9A\\u2EF4-\\u2EFF\\u2FD6-\\u2FEF\\u2FFC-\\u2FFF\\u3040\\u3097\\u3098\\u3100-\\u3104\\u312E-\\u3130\\u318F\\u31BB-\\u31BF\\u31E4-\\u31EF\\u321F\\u32FF\\u4DB6-\\u4DBF\\u9FCD-\\u9FFF\\uA48D-\\uA48F\\uA4C7-\\uA4CF\\uA62C-\\uA63F\\uA698-\\uA69E\\uA6F8-\\uA6FF\\uA78F\\uA794-\\uA79F\\uA7AB-\\uA7F7\\uA82C-\\uA82F\\uA83A-\\uA83F\\uA878-\\uA87F\\uA8C5-\\uA8CD\\uA8DA-\\uA8DF\\uA8FC-\\uA8FF\\uA954-\\uA95E\\uA97D-\\uA97F\\uA9CE\\uA9DA-\\uA9DD\\uA9E0-\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A\\uAA5B\\uAA7C-\\uAA7F\\uAAC3-\\uAADA\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F-\\uABBF\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uF8FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBC2-\\uFBD2\\uFD40-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFE\\uFDFF\\uFE1A-\\uFE1F\\uFE27-\\uFE2F\\uFE53\\uFE67\\uFE6C-\\uFE6F\\uFE75\\uFEFD-\\uFF00\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFDF\\uFFE7\\uFFEF-\\uFFFB\\uFFFE\\uFFFF]/g;\nconst REG_ZWS = /\\u200B/;\nconst TEXT_ZWS = '\\u200B';\n\nexports.arrowRight = arrowRight;\nexports.arrowLeft = arrowLeft;\nexports.remove = remove;\nexports.html2text = html2text;\nexports.currentTextRange = currentTextRange;\nexports.text2bubble = text2bubble;\nexports.replaceString = replaceString;\nexports.selectAll = selectAll;\nexports.textClean = textClean;\nexports.checkZws = checkZws;\nexports.createZws = createZws;\n\nfunction text2bubble(nodeSet, nodeBubble, selection) {\n    selection = selection || context.getSelection();\n\n    if (!selection) {\n        return false;\n    }\n\n    const range = currentTextRange(selection);\n\n    if (range && !nodeBubble) {\n        nodeBubble = bubble.create(nodeSet, range.toString());\n    }\n\n    if (!nodeBubble) {\n        return false;\n    }\n\n    if (range) {\n        selection.removeAllRanges();\n        selection.addRange(range);\n        replace(selection, nodeBubble);\n\n    } else {\n        nodeSet.appendChild(nodeBubble);\n    }\n\n    nodeSet.fireInput();\n    nodeSet.fireChange();\n    return true;\n}\n\nfunction currentTextRange(selection) {\n    selection = selection || context.getSelection();\n\n    if (!selection) {\n        return;\n    }\n\n    const pointNode = do {\n        if (selection.focusNode && selection.focusNode.nodeType === Node.TEXT_NODE) {\n            selection.focusNode;\n\n        } else if (selection.anchorNode && selection.anchorNode.nodeType === Node.TEXT_NODE) {\n            selection.anchorNode;\n\n        } else {\n            undefined;\n        }\n    };\n\n    if (!pointNode) {\n        return;\n    }\n\n    const range = context.document.createRange();\n    let startNode = pointNode;\n    let endNode = pointNode;\n    let item = pointNode;\n\n    while (item && item.nodeType === Node.TEXT_NODE) {\n        startNode = item;\n        item = item.previousSibling;\n    }\n\n    item = pointNode;\n\n    while (item && item.nodeType === Node.TEXT_NODE) {\n        endNode = item;\n        item = item.nextSibling;\n    }\n\n    range.setStartBefore(startNode);\n    range.setEndAfter(endNode);\n\n    return range;\n}\n\nfunction remove(selection) {\n    return replace(selection, createZws());\n}\n\nfunction replace(selection, node) {\n    selection = selection || context.getSelection();\n\n    if (!selection || !selection.rangeCount) {\n        return false;\n    }\n\n    const anchor = context.document.createElement('span');\n    selection.getRangeAt(0).surroundContents(anchor);\n    anchor.parentNode.replaceChild(node, anchor);\n\n    selection.removeAllRanges();\n    selection.collapse(node, 0);\n\n    return true;\n}\n\nfunction replaceString(data, selection) {\n    data = textClean(data);\n    if (!data) {\n        return false;\n    }\n\n    selection = selection || context.getSelection();\n    const textNode = context.document.createTextNode(data);\n\n    if (!replace(selection, textNode)) {\n        return false;\n    }\n\n    selection.collapse(textNode, textNode.nodeValue.length);\n    return true;\n}\n\nfunction arrowLeft(selection, extend) {\n    selection = selection || context.getSelection();\n\n    if (!selection ||\n        !selection.anchorNode ||\n        selection.anchorNode.nodeType !== Node.TEXT_NODE) {\n\n        return false;\n    }\n\n    let { startNode, endNode, startOffset, endOffset } = selectionCorrect(selection);\n\n    if (!selection.isCollapsed && !extend) {\n        selection.collapse(startNode, startOffset);\n        return true;\n    }\n\n    while (startNode) {\n        if (startNode.nodeType !== Node.TEXT_NODE) {\n            return false;\n        }\n\n        if (startOffset === null) {\n            startOffset = startNode.nodeValue.length;\n        }\n\n        if (startOffset - 1 < 0) {\n            startNode = startNode.previousSibling;\n            startOffset = null;\n            continue;\n        }\n\n        const text = startNode.nodeValue.substring(startOffset - 1, startOffset);\n\n        if (checkZws(text)) {\n            startOffset = startOffset - 1;\n            continue;\n        }\n\n        break;\n    }\n\n    if (!startNode || startOffset === null) {\n        return false;\n    }\n\n    if (extend) {\n        if (selection.extend) {\n            selection.extend(startNode, startOffset - 1);\n\n        } else {\n            const range = context.document.createRange();\n            range.setStart(startNode, startOffset - 1);\n            range.setEnd(endNode, endOffset);\n            selection.removeAllRanges();\n            selection.addRange(range);\n        }\n\n    } else {\n        selection.collapse(startNode, startOffset - 1);\n    }\n\n    return true;\n}\n\nfunction arrowRight(selection, extend) {\n    selection = selection || context.getSelection();\n\n    if (!selection ||\n        !selection.focusNode ||\n        selection.focusNode.nodeType !== Node.TEXT_NODE) {\n\n        return false;\n    }\n\n    let { startNode, endNode, startOffset, endOffset } = selectionCorrect(selection);\n\n    if (!selection.isCollapsed && !extend) {\n        selection.collapse(endNode, endOffset);\n        return true;\n    }\n\n    while (endNode) {\n        if (endNode.nodeType !== Node.TEXT_NODE) {\n            return false;\n        }\n\n        const len = endNode.nodeValue.length;\n\n        if (endOffset + 1 > len) {\n            endNode = endNode.nextSibling;\n            endOffset = 0;\n            continue;\n        }\n\n        const text = endNode.nodeValue.substring(endOffset, endOffset + 1);\n\n        if (checkZws(text)) {\n            endOffset = endOffset + 1;\n            continue;\n        }\n\n        break;\n    }\n\n    if (!endNode) {\n        return false;\n    }\n\n    if (extend) {\n        if (selection.extend) {\n            selection.extend(endNode, endOffset + 1);\n\n        } else {\n            const range = context.document.createRange();\n            range.setStart(startNode, startOffset);\n            range.setEnd(endNode, endOffset + 1);\n            selection.removeAllRanges();\n            selection.addRange(range);\n        }\n\n    } else {\n        selection.collapse(endNode, endOffset + 1);\n    }\n\n    return true;\n}\n\nfunction html2text(value) {\n    if (!value) {\n        return '';\n    }\n\n    var DOMContainer = context.document.implementation.createHTMLDocument('').body;\n    DOMContainer.innerText = value;\n\n    return DOMContainer.innerText\n        .replace(/^[\\u0020\\u00a0]+$/gm, '')\n        .replace(/\\n/gm, ' ')\n        .trim();\n}\n\nfunction selectAll(selection, nodeSet) {\n    selection = selection || context.getSelection();\n    const node = selection && selection.anchorNode;\n\n    if (!node || node.nodeType !== Node.TEXT_NODE) {\n        return false;\n    }\n\n    let fromNode;\n    let toNode;\n    let item = node;\n\n    while (item && item.nodeType === Node.TEXT_NODE) {\n        fromNode = item;\n        item = item.previousSibling;\n    }\n\n    item = node;\n\n    while (item && item.nodeType === Node.TEXT_NODE) {\n        toNode = item;\n        item = item.nextSibling;\n    }\n\n    const hasBubbles = bubbleset.hasBubbles(nodeSet);\n    const range = context.document.createRange();\n    range.setStartBefore(fromNode);\n    range.setEndAfter(toNode);\n\n    const dataText = textClean(range.toString());\n\n    if (dataText || (!dataText && !hasBubbles)) {\n        if (!dataText) {\n            range.collapse();\n        }\n\n        selection.removeAllRanges();\n        selection.addRange(range);\n        return true;\n    }\n\n    return false;\n}\n\nfunction createZws() {\n    return context.document.createTextNode(TEXT_ZWS);\n}\n\nfunction checkZws(value) {\n    return REG_ZWS.test(value);\n}\n\nfunction textClean(value) {\n    return String(value || '')\n        .trim()\n        .replace(REG_REPLACE_NON_PRINTABLE, '');\n}\n\nfunction selectionCorrect(selection) {\n    let startNode = selection.anchorNode;\n    let endNode = selection.focusNode;\n    let startOffset = selection.anchorOffset;\n    let endOffset = selection.focusOffset;\n\n    if (startNode === endNode) {\n        startOffset = Math.min(selection.anchorOffset, selection.focusOffset);\n        endOffset = Math.max(selection.anchorOffset, selection.focusOffset);\n\n    } else {\n        const position = selection.anchorNode.compareDocumentPosition(selection.focusNode);\n        if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n            startNode = selection.focusNode;\n            startOffset = selection.focusOffset;\n            endNode = selection.anchorNode;\n            endOffset = selection.anchorOffset;\n        }\n    }\n\n    return { startNode, endNode, startOffset, endOffset };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/text.js\n **/","const context = require('../context');\nconst text = require('./text');\nconst { escape, canUseDrag } = require('./utils');\n\nexports.isBubbleNode = isBubbleNode;\nexports.bubbling = bubbling;\nexports.create = create;\nexports.edit = edit;\n\nfunction isBubbleNode(node) {\n    if (!node || node.nodeType !== Node.ELEMENT_NODE) {\n        return false;\n    }\n\n    return node.hasAttribute('bubble');\n}\n\nfunction edit(nodeSet, nodeBubble) {\n    if (nodeBubble.hasAttribute('readonly')) {\n        return false;\n    }\n\n    const selection = context.getSelection();\n\n    if (!selection) {\n        return false;\n    }\n\n    const bubbleDeformation = nodeSet.options('bubbleDeformation');\n    let rangeParams = bubbleDeformation(nodeBubble);\n\n    if (!rangeParams) {\n        const dataText = text.textClean(nodeBubble.innerText);\n\n        rangeParams = {\n            text: dataText,\n            startOffset: 0,\n            endOffset: dataText.length\n        };\n    }\n\n    const textFake = text.createZws();\n    const textNode = context.document.createTextNode(rangeParams.text);\n\n    nodeSet.fireEdit(nodeBubble);\n    nodeSet.replaceChild(textNode, nodeBubble);\n    nodeSet.insertBefore(textFake, textNode);\n\n    const range = context.document.createRange();\n    range.setStart(textNode, rangeParams.startOffset);\n    range.setEnd(textNode, rangeParams.endOffset);\n\n    selection.removeAllRanges();\n    selection.addRange(range);\n    return true;\n}\n\nfunction create(nodeSet, dataText, data = {}) {\n    dataText = text.textClean(dataText);\n\n    if (!dataText) {\n        return;\n    }\n\n    const bubbleFormation = nodeSet.options('bubbleFormation');\n    const classBubble = nodeSet.options('classBubble');\n    const draggable = canUseDrag() && nodeSet.options('draggable');\n    const wrap = context.document.createElement('span');\n\n    wrap.innerText = dataText;\n\n    if (draggable) {\n        wrap.setAttribute('draggable', 'true');\n    }\n\n    for (let key in data) {\n        if (data[ key ]) {\n            wrap.setAttribute(`data-${key}`, escape(data[ key ]));\n        }\n    }\n\n    bubbleFormation(wrap);\n\n    if (classBubble) {\n        const classes = String(classBubble).trim().split(/\\s+/);\n        let len = classes.length;\n\n        while (len--) {\n            wrap.classList.add(classes[ len ]);\n        }\n    }\n\n    wrap.setAttribute('bubble', '');\n    wrap.setAttribute('contenteditable', 'false');\n\n    return wrap;\n}\n\nfunction bubbling(nodeSet) {\n    const separator = nodeSet.options('separator');\n    const ending = nodeSet.options('ending');\n    const begining = nodeSet.options('begining');\n    const ranges = getBubbleRanges(nodeSet);\n    const nodes = [];\n\n    ranges.forEach(function (range) {\n        const dataText = text.textClean(range.toString());\n\n        if (!dataText) {\n            range.deleteContents();\n            return;\n        }\n\n        let textParts = [ dataText ];\n\n        if (separator) {\n            textParts = dataText\n                .split(separator)\n                .map(trimIterator)\n                .filter(nonEmptyIterator);\n        }\n\n        if (ending) {\n            textParts = textParts\n                .reduce((parts, str) => parts.concat(parseFragmentByEnding(str, ending)), [])\n                .map(trimIterator)\n                .filter(nonEmptyIterator);\n\n        } else if (begining) {\n            textParts = textParts\n                .reduce((parts, str) => parts.concat(parseFragmentByBeginning(str, begining)), [])\n                .map(trimIterator)\n                .filter(nonEmptyIterator);\n        }\n\n        if (!textParts.length) {\n            range.deleteContents();\n        }\n\n        const fragment = context.document.createDocumentFragment();\n\n        textParts.forEach(function (textPart) {\n            const nodeBubble = create(nodeSet, textPart);\n            if (nodeBubble) {\n                fragment.appendChild(nodeBubble);\n                nodes.push(nodeBubble);\n            }\n        });\n\n        range.deleteContents();\n        range.insertNode(fragment);\n    });\n\n    nodeSet.fireInput();\n\n    if (nodes.length) {\n        nodeSet.fireChange();\n    }\n\n    return nodes;\n}\n\nfunction getBubbleRanges(nodeSet) {\n    const ranges = [];\n    const children = nodeSet.childNodes;\n    let range;\n    let node;\n\n    for (let i = 0; i < children.length; i++) {\n        node = children[ i ];\n\n        if (isBubbleNode(node)) {\n            if (range) {\n                range.setEndBefore(node);\n                ranges.push(range);\n                range = undefined;\n            }\n\n        } else {\n            if (!range) {\n                range = context.document.createRange();\n                range.setStartBefore(node);\n            }\n        }\n    }\n\n    if (range) {\n        range.setEndAfter(node);\n        ranges.push(range);\n    }\n\n    return ranges;\n}\n\nfunction trimIterator(str) {\n    return str.trim();\n}\n\nfunction nonEmptyIterator(str) {\n    return Boolean(str);\n}\n\nfunction parseFragmentByEnding(str, reg) {\n    const parts = [];\n    let lastIndex = 0;\n    let loop = 999;\n\n    reg.lastIndex = 0;\n    while (reg.exec(str) !== null && loop) {\n        loop--;\n        parts.push(str.substring(lastIndex, reg.lastIndex));\n        lastIndex = reg.lastIndex;\n    }\n\n    return parts;\n}\n\nfunction parseFragmentByBeginning(str, reg) {\n    const parts = [];\n    let res;\n    let index = 0;\n    let loop = 999;\n\n    reg.lastIndex = 0;\n    while ((res = reg.exec(str)) !== null && loop) {\n        loop--;\n        if (index !== res.index) {\n            parts.push(str.substring(index, res.index));\n            index = res.index;\n        }\n    }\n\n    parts.push(str.substring(index, str.length));\n    return parts;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/bubble.js\n **/","const context = require('../context');\n\n/* eslint quotes: 0 */\n\nconst htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n};\n\nconst htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n};\n\nconst reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g;\nconst reUnescapedHtml = /[&<>\"'`]/g;\nconst reHasEscapedHtml = RegExp(reEscapedHtml.source);\nconst reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\nconst reIEUA = /Trident|Edge/;\n\nexports.escape = function (data) {\n    data = String(data);\n\n    if (data && reHasUnescapedHtml.test(data)) {\n        return data.replace(reUnescapedHtml, escapeHtmlChar);\n    }\n\n    return data;\n};\n\n\nexports.unescape = function (data) {\n    data = String(data);\n\n    if (data && reHasEscapedHtml.test(data)) {\n        return data.replace(reEscapedHtml, unescapeHtmlChar);\n    }\n\n    return data;\n};\n\nexports.canUseDrag = function () {\n    return !reIEUA.test(context.navigator.userAgent);\n};\n\nfunction unescapeHtmlChar(chr) {\n    return htmlUnescapes[ chr ];\n}\n\nfunction escapeHtmlChar(chr) {\n    return htmlEscapes[ chr ];\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/utils.js\n **/","const bubble = require('./bubble');\nconst text = require('./text');\n\nexports.closestNodeBubble = closestNodeBubble;\nexports.closestNodeSet = closestNodeSet;\nexports.findBubbleLeft = findBubbleLeft;\nexports.getBubbles = getBubbles;\nexports.hasBubbles = hasBubbles;\nexports.headBubble = headBubble;\nexports.lastBubble = lastBubble;\nexports.nextBubble = nextBubble;\nexports.prevBubble = prevBubble;\n\nfunction lastBubble(nodeSet) {\n    return nodeSet.querySelector('[bubble]:last-child');\n}\n\nfunction headBubble(nodeSet) {\n    return nodeSet.querySelector('[bubble]:first-child');\n}\n\nfunction getBubbles(nodeSet) {\n    return Array.prototype.slice.call(nodeSet.querySelectorAll('[bubble]'));\n}\n\nfunction hasBubbles(nodeSet) {\n    return Boolean(nodeSet.querySelector('[bubble]'));\n}\n\nfunction findBubbleLeft(selection) {\n    if (!selection.focusNode || !selection.anchorNode) {\n        return;\n    }\n\n    let node = selection.focusNode.previousSibling;\n\n    if (selection.anchorNode !== selection.focusNode &&\n        selection.anchorNode.compareDocumentPosition(selection.focusNode) & Node.DOCUMENT_POSITION_FOLLOWING) {\n        node = selection.anchorNode.previousSibling;\n    }\n\n    while (node) {\n        if (bubble.isBubbleNode(node)) {\n            return node;\n        }\n\n        if (node.nodeType === Node.TEXT_NODE && text.textClean(node.nodeValue)) {\n            return;\n        }\n\n        node = node.previousSibling;\n    }\n}\n\nfunction closestNodeSet(node) {\n    while (node) {\n        if (node.nodeType === Node.ELEMENT_NODE &&\n            node.getAttribute('is') === 'x-bubbles') {\n\n            return node;\n        }\n\n        node = node.parentNode;\n    }\n}\n\nfunction closestNodeBubble(node) {\n    while (node) {\n        if (bubble.isBubbleNode(node)) {\n            return node;\n        }\n\n        node = node.parentNode;\n    }\n}\n\nfunction prevBubble(target) {\n    let node = target && target.previousSibling;\n    while (node) {\n        if (bubble.isBubbleNode(node)) {\n            return node;\n        }\n\n        node = node.previousSibling;\n    }\n}\n\nfunction nextBubble(target) {\n    let node = target && target.nextSibling;\n    while (node) {\n        if (bubble.isBubbleNode(node)) {\n            return node;\n        }\n\n        node = node.nextSibling;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/bubbleset.js\n **/","const native = require('./drag/native');\nconst mouse = require('./drag/mouse');\nconst { canUseDrag } = require('./utils');\n\nexports.init = function (nodeSet) {\n    if (canUseDrag()) {\n        return native.init(nodeSet);\n    }\n\n    return mouse.init(nodeSet);\n};\n\nexports.destroy = function (nodeSet) {\n    if (canUseDrag()) {\n        return native.destroy(nodeSet);\n    }\n\n    return mouse.destroy(nodeSet);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/drag.js\n **/","const context = require('../../context');\nconst select = require('../select');\nconst bubbleset = require('../bubbleset');\nconst { CLS } = require('../constant');\nconst { getDragImage, DRAG_IMG_WIDTH } = require('./common');\n\nlet currentDragSet = null;\n\nexports.init = function (nodeSet) {\n    nodeSet.addEventListener('drop', onDrop);\n    nodeSet.addEventListener('dragover', onDragover);\n    nodeSet.addEventListener('dragenter', onDragenter);\n    nodeSet.addEventListener('dragleave', onDragleave);\n    nodeSet.addEventListener('dragstart', onDragstart);\n    nodeSet.addEventListener('dragend', onDragend);\n};\n\nexports.destroy = function (nodeSet) {\n    nodeSet.removeEventListener('drop', onDrop);\n    nodeSet.removeEventListener('dragover', onDragover);\n    nodeSet.removeEventListener('dragenter', onDragenter);\n    nodeSet.removeEventListener('dragleave', onDragleave);\n    nodeSet.removeEventListener('dragstart', onDragstart);\n    nodeSet.removeEventListener('dragend', onDragend);\n};\n\nfunction onDragstart(event) {\n    event.stopPropagation();\n\n    const nodeSet = bubbleset.closestNodeSet(event.target);\n    const nodeBubble = bubbleset.closestNodeBubble(event.target);\n\n    if (!nodeSet || !nodeBubble) {\n        event.preventDefault();\n        return;\n    }\n\n    const selection = context.getSelection();\n    selection && selection.removeAllRanges();\n\n    currentDragSet = nodeSet;\n    nodeSet.classList.add(CLS.DRAGSTART);\n    select.add(nodeBubble);\n\n    event.dataTransfer.effectAllowed = 'move';\n    event.dataTransfer.setData('text/plain', '');\n\n    const list = select.get(currentDragSet);\n    if (list.length > 1) {\n        event.dataTransfer.setDragImage(getDragImage(), DRAG_IMG_WIDTH, DRAG_IMG_WIDTH);\n    }\n}\n\nfunction onDrop(event) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (!currentDragSet) {\n        return;\n    }\n\n    const nodeSet = bubbleset.closestNodeSet(event.target);\n\n    if (!nodeSet || nodeSet === currentDragSet) {\n        return;\n    }\n\n    const list = select.get(currentDragSet);\n\n    if (list.length) {\n        list.forEach(item => nodeSet.appendChild(item));\n\n        setTimeout(() => {\n            nodeSet.focus();\n            nodeSet.fireChange();\n        }, 0);\n    }\n}\n\nfunction onDragover(event) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (!currentDragSet) {\n        return;\n    }\n\n    event.dataTransfer.dropEffect = 'move';\n}\n\nfunction onDragenter(event) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (!currentDragSet) {\n        return;\n    }\n\n    const nodeSet = bubbleset.closestNodeSet(event.target);\n    if (nodeSet && nodeSet !== currentDragSet) {\n        nodeSet.classList.add(CLS.DROPZONE);\n    }\n}\n\nfunction onDragleave(event) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (!currentDragSet) {\n        return;\n    }\n\n    const nodeSet = bubbleset.closestNodeSet(event.target);\n    if (nodeSet && nodeSet !== currentDragSet) {\n        nodeSet.classList.remove(CLS.DROPZONE);\n    }\n}\n\nfunction onDragend(event) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (!currentDragSet) {\n        return;\n    }\n\n    currentDragSet.classList.remove(CLS.DRAGSTART);\n\n    const nodeSet = bubbleset.closestNodeSet(event.target);\n\n    if (nodeSet && nodeSet !== currentDragSet) {\n        nodeSet.classList.remove(CLS.DROPZONE);\n    }\n\n    currentDragSet = null;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/drag/native.js\n **/","const context = require('../context');\nconst bubble = require('./bubble');\nconst bubbleset = require('./bubbleset');\n\nconst slice = Array.prototype.slice;\nconst PATH_SELECTED = '[bubble][selected]';\nconst PATH_NOT_SELECTED = '[bubble]:not([selected])';\n\nexports.all = all;\nexports.add = add;\nexports.clear = clear;\nexports.get = get;\nexports.uniq = uniq;\nexports.head = head;\nexports.last = last;\nexports.has = has;\nexports.range = range;\nexports.toggleUniq = toggleUniq;\n\nfunction range(node) {\n    if (!bubble.isBubbleNode(node)) {\n        return;\n    }\n\n    const set = node.parentNode;\n    const list = get(set);\n\n    if (!list.length) {\n        uniq(node);\n        return;\n    }\n\n    clear(set);\n\n    const headList = list[0];\n    const lastList = list[ list.length - 1 ];\n\n    if (headList === lastList || !set.startRangeSelect) {\n        set.startRangeSelect = headList;\n    }\n\n    let fromNode;\n    let toNode;\n    const position = node.compareDocumentPosition(set.startRangeSelect);\n\n    if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n        fromNode = set.startRangeSelect;\n        toNode = node;\n\n    } else {\n        fromNode = node;\n        toNode = set.startRangeSelect;\n    }\n\n    if (fromNode && toNode) {\n        let item = fromNode;\n\n        while (item) {\n            if (!setSelected(item)) {\n                break;\n            }\n\n            if (item === toNode) {\n                break;\n            }\n\n            item = item.nextSibling;\n        }\n\n        bubble.bubbling(set);\n    }\n}\n\nfunction all(nodeSet) {\n    slice.call(nodeSet.querySelectorAll(PATH_NOT_SELECTED)).forEach(item => setSelected(item));\n    nodeSet.startRangeSelect = nodeSet.querySelector(PATH_SELECTED);\n\n    bubble.bubbling(nodeSet);\n\n    const selection = context.getSelection();\n    selection && selection.removeAllRanges();\n}\n\nfunction has(nodeSet) {\n    return Boolean(nodeSet.querySelector(PATH_SELECTED));\n}\n\nfunction head(set) {\n    return get(set)[0];\n}\n\nfunction last(set) {\n    const list = get(set);\n    return list[ list.length - 1 ];\n}\n\nfunction get(nodeSet) {\n    return slice.call(nodeSet.querySelectorAll(PATH_SELECTED));\n}\n\nfunction clear(nodeSet) {\n    get(nodeSet).forEach(item => item.removeAttribute('selected'));\n}\n\nfunction add(node) {\n    if (setSelected(node)) {\n        const nodeSet = bubbleset.closestNodeSet(node);\n\n        nodeSet.startRangeSelect = node;\n        // ???\n        bubble.bubbling(nodeSet);\n\n        return true;\n    }\n\n    return false;\n}\n\nfunction uniq(node) {\n    if (!bubble.isBubbleNode(node)) {\n        return false;\n    }\n\n    const nodeSet = bubbleset.closestNodeSet(node);\n    const selection = context.getSelection();\n\n    selection && selection.removeAllRanges();\n    clear(nodeSet);\n\n    return add(node);\n}\n\nfunction toggleUniq(node) {\n    if (isSelected(node)) {\n        const nodeSet = bubbleset.closestNodeSet(node);\n\n        if (get(nodeSet).length === 1) {\n            return removeSelected(node);\n        }\n    }\n\n    return uniq(node);\n}\n\nfunction isSelected(node) {\n    return bubble.isBubbleNode(node) && node.hasAttribute('selected') || false;\n}\n\nfunction setSelected(node) {\n    if (bubble.isBubbleNode(node)) {\n        node.setAttribute('selected', '');\n        return true;\n    }\n\n    return false;\n}\n\nfunction removeSelected(node) {\n    if (bubble.isBubbleNode(node)) {\n        node.removeAttribute('selected');\n        return true;\n    }\n\n    return false;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/select.js\n **/","let dragImage = null;\n\nconst DRAG_IMG_WIDTH = 16;\n\nexports.DRAG_IMG_WIDTH = DRAG_IMG_WIDTH;\n\nexports.getDragImage = function () {\n    if (!dragImage) {\n        dragImage = new Image();\n        dragImage.src = require('url?mimetype=image/png!./bubbles.png');\n    }\n\n    return dragImage;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/drag/common.js\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAB3klEQVR4XtWWMWgTYRTH/0n0IjWNkSo9jYJTx4KDAXWoIChtqdBFkG6lTm5iiw5OHQQFV4fSunYTOpVucbRDBicVUmmb0GsuJCYGknjfez4+PmjUy8U7cegffty3vPfjfY/jLsbM+J+JC8dbcAIm97aqEwBeCjmEywdhaePOSD5QQETr1y6m7Ww6iTApNTq57XJjHcCFYIEiGyeTKLYQKkmp0bWDrkiRQstD6HikazFYoBQIEWJql9+Ncu9Ons86+d8EBOKoAsLtG9P67FTLuY+fC3onf0zgcfQJKu1tfbaGU2Bm2+eKvKgTmFpdjK5qgtlnB17kHZjanq5M7LvkkltvZs+khxEm3xpNDCUqvwjIX0ALX4o7bwHYAs6fG8HlS1ns7ZdQcavol9NWHVNjb6COBP5XVJgf3+x9G8dXCuwpguu6eDrxAINCjIAJfFCk4Bw6eHZrLvTy+W8EpAiPrt6HYgth0qx1wcylgYKZobuTu59gduKfs6OnYF9J4eDrd9ScNkwOhAWY/NMXbXEtwxmR1KX5q/l6LOB7EAnd9MlqhhGQWM8zLiSM1IC4pn9uCtcfr6QXXz9svADwXsgLnqAEFgE0prklJA2WkSSEWICEDD+ErtAR2jCS4/9X8RPiO+YqXEJbcwAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/url-loader?mimetype=image/png!./core/drag/bubbles.png\n ** module id = 16\n ** module chunks = 0\n **/","const context = require('../../context');\nconst events = require('../events');\nconst select = require('../select');\nconst bubbleset = require('../bubbleset');\nconst Modernizr = require('modernizr');\nconst { CLS } = require('../constant');\nconst { getDragImage, DRAG_IMG_WIDTH } = require('./common');\n\nlet currentDragSet = null;\nlet currentMoveSet = null;\nlet currentDragElement = null;\n\nexports.init = function (nodeSet) {\n    events.on(nodeSet, 'mousedown', onMousedown);\n};\n\nexports.destroy = function (nodeSet) {\n    events.off(nodeSet, 'mousedown', onMousedown);\n};\n\nfunction onMousedown(event) {\n    const nodeBubble = bubbleset.closestNodeBubble(event.target);\n    if (!nodeBubble) {\n        return;\n    }\n\n    const nodeSet = bubbleset.closestNodeSet(event.target);\n    if (!nodeSet) {\n        return;\n    }\n\n    event.preventDefault();\n    nodeSet.focus();\n\n    const drag = nodeSet.__drag__ = {\n        onMouseup: onMouseup.bind(this, nodeSet),\n        onMousemove: events.throttle(onMousemove.bind(this, nodeSet)),\n        onScroll: events.throttle(onScroll.bind(this, nodeSet)),\n        nodeOffsetX: events.pageX(event) - nodeBubble.offsetLeft,\n        nodeOffsetY: events.pageY(event) - nodeBubble.offsetTop,\n        x: 0,\n        y: 0\n    };\n\n    currentDragSet = null;\n    currentMoveSet = null;\n    currentDragElement = null;\n\n    events.one(document, 'mouseup', drag.onMouseup);\n    events.on(document, 'mousemove', drag.onMousemove);\n    events.on(document, 'scroll', drag.onScroll);\n}\n\nfunction onMouseup(dragSet, event) {\n    const drag = dragSet.__drag__;\n    if (!drag) {\n        return;\n    }\n\n    events.off(document, 'mousemove', drag.onMousemove);\n    events.off(document, 'scroll', drag.onScroll);\n    delete dragSet.__drag__;\n\n    if (currentDragElement) {\n        currentDragElement.parentNode && currentDragElement.parentNode.removeChild(currentDragElement);\n        currentDragElement = null;\n    }\n\n    if (currentMoveSet) {\n        currentMoveSet.classList.remove(CLS.DROPZONE);\n        currentMoveSet = null;\n    }\n\n    if (currentDragSet) {\n        const nodeSet = bubbleset.closestNodeSet(event.target);\n\n        if (nodeSet && nodeSet !== currentDragSet) {\n            const list = select.get(currentDragSet);\n\n            if (list.length) {\n                list.forEach(item => nodeSet.appendChild(item));\n\n                setTimeout(() => {\n                    nodeSet.focus();\n                    nodeSet.fireChange();\n                }, 0);\n            }\n        }\n\n        currentDragSet.classList.remove(CLS.DRAGSTART);\n        currentDragSet = null;\n    }\n}\n\nfunction onMousemove(dragSet, event) {\n    const drag = dragSet.__drag__;\n    if (!drag) {\n        return;\n    }\n\n    if (!currentDragSet) {\n        const selection = context.getSelection();\n        selection && selection.removeAllRanges();\n\n        currentDragSet = dragSet;\n        currentDragSet.classList.add(CLS.DRAGSTART);\n\n        const nodeBubble = bubbleset.closestNodeBubble(event.target);\n        let moveElement;\n\n        if (nodeBubble) {\n            select.add(nodeBubble);\n            if (select.get(currentDragSet).length === 1) {\n                moveElement = nodeBubble.cloneNode(true);\n            }\n        }\n\n        if (!moveElement) {\n            moveElement = getDragImage();\n            drag.nodeOffsetX = DRAG_IMG_WIDTH;\n            drag.nodeOffsetY = DRAG_IMG_WIDTH;\n        }\n\n        currentDragElement = document.body.appendChild(document.createElement('div'));\n        currentDragElement.style.cssText = 'position:absolute;z-index:9999;pointer-events:none;top:0;left:0;';\n        currentDragElement.appendChild(moveElement);\n    }\n\n    drag.x = event.clientX;\n    drag.y = event.clientY;\n    onScroll(dragSet);\n\n    const nodeSet = bubbleset.closestNodeSet(event.target);\n    if (nodeSet && nodeSet !== currentDragSet) {\n        if (currentMoveSet && currentMoveSet !== nodeSet) {\n            currentMoveSet.classList.remove(CLS.DROPZONE);\n            nodeSet.classList.add(CLS.DROPZONE);\n            currentMoveSet = nodeSet;\n\n        } else if (!currentMoveSet) {\n            nodeSet.classList.add(CLS.DROPZONE);\n            currentMoveSet = nodeSet;\n        }\n\n    } else if (currentMoveSet) {\n        currentMoveSet.classList.remove(CLS.DROPZONE);\n        currentMoveSet = null;\n    }\n}\n\nfunction onScroll(dragSet) {\n    const drag = dragSet.__drag__;\n    if (!drag || !currentDragElement) {\n        return;\n    }\n\n    const x = drag.x - drag.nodeOffsetX + events.scrollX();\n    const y = drag.y - drag.nodeOffsetY + events.scrollY();\n\n    if (Modernizr.csstransforms3d) {\n        currentDragElement.style.transform = `translate3d(${x}px, ${y}px, 0px)`;\n\n    } else if (Modernizr.csstransforms) {\n        currentDragElement.style.transform = `translate(${x}px, ${y}px)`;\n\n    } else {\n        currentDragElement.style.top = `${y}px`;\n        currentDragElement.style.left = `${x}px`;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/drag/mouse.js\n **/",";(function(window){\n/*!\n * modernizr v3.3.1\n * Build http://modernizr.com/download?-csstransforms-csstransforms3d-dontmin\n *\n * Copyright (c)\n *  Faruk Ates\n *  Paul Irish\n *  Alex Sexton\n *  Ryan Seddon\n *  Patrick Kettner\n *  Stu Cox\n *  Richard Herrera\n\n * MIT License\n */\n\n/*\n * Modernizr tests which native CSS3 and HTML5 features are available in the\n * current UA and makes the results available to you in two ways: as properties on\n * a global `Modernizr` object, and as classes on the `<html>` element. This\n * information allows you to progressively enhance your pages with a granular level\n * of control over the experience.\n*/\n\n;(function(window, document, undefined){\n  var tests = [];\n  \n\n  /**\n   *\n   * ModernizrProto is the constructor for Modernizr\n   *\n   * @class\n   * @access public\n   */\n\n  var ModernizrProto = {\n    // The current version, dummy\n    _version: '3.3.1',\n\n    // Any settings that don't work as separate modules\n    // can go in here as configuration.\n    _config: {\n      'classPrefix': '',\n      'enableClasses': true,\n      'enableJSClass': true,\n      'usePrefixes': true\n    },\n\n    // Queue of tests\n    _q: [],\n\n    // Stub these for people who are listening\n    on: function(test, cb) {\n      // I don't really think people should do this, but we can\n      // safe guard it a bit.\n      // -- NOTE:: this gets WAY overridden in src/addTest for actual async tests.\n      // This is in case people listen to synchronous tests. I would leave it out,\n      // but the code to *disallow* sync tests in the real version of this\n      // function is actually larger than this.\n      var self = this;\n      setTimeout(function() {\n        cb(self[test]);\n      }, 0);\n    },\n\n    addTest: function(name, fn, options) {\n      tests.push({name: name, fn: fn, options: options});\n    },\n\n    addAsyncTest: function(fn) {\n      tests.push({name: null, fn: fn});\n    }\n  };\n\n  \n\n  // Fake some of Object.create so we can force non test results to be non \"own\" properties.\n  var Modernizr = function() {};\n  Modernizr.prototype = ModernizrProto;\n\n  // Leak modernizr globally when you `require` it rather than force it here.\n  // Overwrite name so constructor name is nicer :D\n  Modernizr = new Modernizr();\n\n  \n\n  var classes = [];\n  \n\n  /**\n   * is returns a boolean if the typeof an obj is exactly type.\n   *\n   * @access private\n   * @function is\n   * @param {*} obj - A thing we want to check the type of\n   * @param {string} type - A string to compare the typeof against\n   * @returns {boolean}\n   */\n\n  function is(obj, type) {\n    return typeof obj === type;\n  }\n  ;\n\n  /**\n   * Run through all tests and detect their support in the current UA.\n   *\n   * @access private\n   */\n\n  function testRunner() {\n    var featureNames;\n    var feature;\n    var aliasIdx;\n    var result;\n    var nameIdx;\n    var featureName;\n    var featureNameSplit;\n\n    for (var featureIdx in tests) {\n      if (tests.hasOwnProperty(featureIdx)) {\n        featureNames = [];\n        feature = tests[featureIdx];\n        // run the test, throw the return value into the Modernizr,\n        // then based on that boolean, define an appropriate className\n        // and push it into an array of classes we'll join later.\n        //\n        // If there is no name, it's an 'async' test that is run,\n        // but not directly added to the object. That should\n        // be done with a post-run addTest call.\n        if (feature.name) {\n          featureNames.push(feature.name.toLowerCase());\n\n          if (feature.options && feature.options.aliases && feature.options.aliases.length) {\n            // Add all the aliases into the names list\n            for (aliasIdx = 0; aliasIdx < feature.options.aliases.length; aliasIdx++) {\n              featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());\n            }\n          }\n        }\n\n        // Run the test, or use the raw value if it's not a function\n        result = is(feature.fn, 'function') ? feature.fn() : feature.fn;\n\n\n        // Set each of the names on the Modernizr object\n        for (nameIdx = 0; nameIdx < featureNames.length; nameIdx++) {\n          featureName = featureNames[nameIdx];\n          // Support dot properties as sub tests. We don't do checking to make sure\n          // that the implied parent tests have been added. You must call them in\n          // order (either in the test, or make the parent test a dependency).\n          //\n          // Cap it to TWO to make the logic simple and because who needs that kind of subtesting\n          // hashtag famous last words\n          featureNameSplit = featureName.split('.');\n\n          if (featureNameSplit.length === 1) {\n            Modernizr[featureNameSplit[0]] = result;\n          } else {\n            // cast to a Boolean, if not one already\n            /* jshint -W053 */\n            if (Modernizr[featureNameSplit[0]] && !(Modernizr[featureNameSplit[0]] instanceof Boolean)) {\n              Modernizr[featureNameSplit[0]] = new Boolean(Modernizr[featureNameSplit[0]]);\n            }\n\n            Modernizr[featureNameSplit[0]][featureNameSplit[1]] = result;\n          }\n\n          classes.push((result ? '' : 'no-') + featureNameSplit.join('-'));\n        }\n      }\n    }\n  }\n  ;\n\n  /**\n   * If the browsers follow the spec, then they would expose vendor-specific style as:\n   *   elem.style.WebkitBorderRadius\n   * instead of something like the following, which would be technically incorrect:\n   *   elem.style.webkitBorderRadius\n\n   * Webkit ghosts their properties in lowercase but Opera & Moz do not.\n   * Microsoft uses a lowercase `ms` instead of the correct `Ms` in IE8+\n   *   erik.eae.net/archives/2008/03/10/21.48.10/\n\n   * More here: github.com/Modernizr/Modernizr/issues/issue/21\n   *\n   * @access private\n   * @returns {string} The string representing the vendor-specific style properties\n   */\n\n  var omPrefixes = 'Moz O ms Webkit';\n  \n\n  var cssomPrefixes = (ModernizrProto._config.usePrefixes ? omPrefixes.split(' ') : []);\n  ModernizrProto._cssomPrefixes = cssomPrefixes;\n  \n\n\n  /**\n   * contains checks to see if a string contains another string\n   *\n   * @access private\n   * @function contains\n   * @param {string} str - The string we want to check for substrings\n   * @param {string} substr - The substring we want to search the first string for\n   * @returns {boolean}\n   */\n\n  function contains(str, substr) {\n    return !!~('' + str).indexOf(substr);\n  }\n\n  ;\n\n  /**\n   * docElement is a convenience wrapper to grab the root element of the document\n   *\n   * @access private\n   * @returns {HTMLElement|SVGElement} The root element of the document\n   */\n\n  var docElement = document.documentElement;\n  \n\n  /**\n   * A convenience helper to check if the document we are running in is an SVG document\n   *\n   * @access private\n   * @returns {boolean}\n   */\n\n  var isSVG = docElement.nodeName.toLowerCase() === 'svg';\n  \n\n  /**\n   * createElement is a convenience wrapper around document.createElement. Since we\n   * use createElement all over the place, this allows for (slightly) smaller code\n   * as well as abstracting away issues with creating elements in contexts other than\n   * HTML documents (e.g. SVG documents).\n   *\n   * @access private\n   * @function createElement\n   * @returns {HTMLElement|SVGElement} An HTML or SVG element\n   */\n\n  function createElement() {\n    if (typeof document.createElement !== 'function') {\n      // This is the case in IE7, where the type of createElement is \"object\".\n      // For this reason, we cannot call apply() as Object is not a Function.\n      return document.createElement(arguments[0]);\n    } else if (isSVG) {\n      return document.createElementNS.call(document, 'http://www.w3.org/2000/svg', arguments[0]);\n    } else {\n      return document.createElement.apply(document, arguments);\n    }\n  }\n\n  ;\n\n  /**\n   * Create our \"modernizr\" element that we do most feature tests on.\n   *\n   * @access private\n   */\n\n  var modElem = {\n    elem: createElement('modernizr')\n  };\n\n  // Clean up this element\n  Modernizr._q.push(function() {\n    delete modElem.elem;\n  });\n\n  \n\n  var mStyle = {\n    style: modElem.elem.style\n  };\n\n  // kill ref for gc, must happen before mod.elem is removed, so we unshift on to\n  // the front of the queue.\n  Modernizr._q.unshift(function() {\n    delete mStyle.style;\n  });\n\n  \n\n  /**\n   * getBody returns the body of a document, or an element that can stand in for\n   * the body if a real body does not exist\n   *\n   * @access private\n   * @function getBody\n   * @returns {HTMLElement|SVGElement} Returns the real body of a document, or an\n   * artificially created element that stands in for the body\n   */\n\n  function getBody() {\n    // After page load injecting a fake body doesn't work so check if body exists\n    var body = document.body;\n\n    if (!body) {\n      // Can't use the real body create a fake one.\n      body = createElement(isSVG ? 'svg' : 'body');\n      body.fake = true;\n    }\n\n    return body;\n  }\n\n  ;\n\n  /**\n   * injectElementWithStyles injects an element with style element and some CSS rules\n   *\n   * @access private\n   * @function injectElementWithStyles\n   * @param {string} rule - String representing a css rule\n   * @param {function} callback - A function that is used to test the injected element\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n   * @returns {boolean}\n   */\n\n  function injectElementWithStyles(rule, callback, nodes, testnames) {\n    var mod = 'modernizr';\n    var style;\n    var ret;\n    var node;\n    var docOverflow;\n    var div = createElement('div');\n    var body = getBody();\n\n    if (parseInt(nodes, 10)) {\n      // In order not to give false positives we create a node for each test\n      // This also allows the method to scale for unspecified uses\n      while (nodes--) {\n        node = createElement('div');\n        node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n        div.appendChild(node);\n      }\n    }\n\n    style = createElement('style');\n    style.type = 'text/css';\n    style.id = 's' + mod;\n\n    // IE6 will false positive on some tests due to the style element inside the test div somehow interfering offsetHeight, so insert it into body or fakebody.\n    // Opera will act all quirky when injecting elements in documentElement when page is served as xml, needs fakebody too. #270\n    (!body.fake ? div : body).appendChild(style);\n    body.appendChild(div);\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = rule;\n    } else {\n      style.appendChild(document.createTextNode(rule));\n    }\n    div.id = mod;\n\n    if (body.fake) {\n      //avoid crashing IE8, if background image is used\n      body.style.background = '';\n      //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n      body.style.overflow = 'hidden';\n      docOverflow = docElement.style.overflow;\n      docElement.style.overflow = 'hidden';\n      docElement.appendChild(body);\n    }\n\n    ret = callback(div, rule);\n    // If this is done after page load we don't want to remove the body so check if body exists\n    if (body.fake) {\n      body.parentNode.removeChild(body);\n      docElement.style.overflow = docOverflow;\n      // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n      docElement.offsetHeight;\n    } else {\n      div.parentNode.removeChild(div);\n    }\n\n    return !!ret;\n\n  }\n\n  ;\n\n  /**\n   * domToCSS takes a camelCase string and converts it to kebab-case\n   * e.g. boxSizing -> box-sizing\n   *\n   * @access private\n   * @function domToCSS\n   * @param {string} name - String name of camelCase prop we want to convert\n   * @returns {string} The kebab-case version of the supplied name\n   */\n\n  function domToCSS(name) {\n    return name.replace(/([A-Z])/g, function(str, m1) {\n      return '-' + m1.toLowerCase();\n    }).replace(/^ms-/, '-ms-');\n  }\n  ;\n\n  /**\n   * nativeTestProps allows for us to use native feature detection functionality if available.\n   * some prefixed form, or false, in the case of an unsupported rule\n   *\n   * @access private\n   * @function nativeTestProps\n   * @param {array} props - An array of property names\n   * @param {string} value - A string representing the value we want to check via @supports\n   * @returns {boolean|undefined} A boolean when @supports exists, undefined otherwise\n   */\n\n  // Accepts a list of property names and a single value\n  // Returns `undefined` if native detection not available\n  function nativeTestProps(props, value) {\n    var i = props.length;\n    // Start with the JS API: http://www.w3.org/TR/css3-conditional/#the-css-interface\n    if ('CSS' in window && 'supports' in window.CSS) {\n      // Try every prefixed variant of the property\n      while (i--) {\n        if (window.CSS.supports(domToCSS(props[i]), value)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    // Otherwise fall back to at-rule (for Opera 12.x)\n    else if ('CSSSupportsRule' in window) {\n      // Build a condition string for every prefixed variant\n      var conditionText = [];\n      while (i--) {\n        conditionText.push('(' + domToCSS(props[i]) + ':' + value + ')');\n      }\n      conditionText = conditionText.join(' or ');\n      return injectElementWithStyles('@supports (' + conditionText + ') { #modernizr { position: absolute; } }', function(node) {\n        return getComputedStyle(node, null).position == 'absolute';\n      });\n    }\n    return undefined;\n  }\n  ;\n\n  /**\n   * cssToDOM takes a kebab-case string and converts it to camelCase\n   * e.g. box-sizing -> boxSizing\n   *\n   * @access private\n   * @function cssToDOM\n   * @param {string} name - String name of kebab-case prop we want to convert\n   * @returns {string} The camelCase version of the supplied name\n   */\n\n  function cssToDOM(name) {\n    return name.replace(/([a-z])-([a-z])/g, function(str, m1, m2) {\n      return m1 + m2.toUpperCase();\n    }).replace(/^-/, '');\n  }\n  ;\n\n  // testProps is a generic CSS / DOM property test.\n\n  // In testing support for a given CSS property, it's legit to test:\n  //    `elem.style[styleName] !== undefined`\n  // If the property is supported it will return an empty string,\n  // if unsupported it will return undefined.\n\n  // We'll take advantage of this quick test and skip setting a style\n  // on our modernizr element, but instead just testing undefined vs\n  // empty string.\n\n  // Property names can be provided in either camelCase or kebab-case.\n\n  function testProps(props, prefixed, value, skipValueTest) {\n    skipValueTest = is(skipValueTest, 'undefined') ? false : skipValueTest;\n\n    // Try native detect first\n    if (!is(value, 'undefined')) {\n      var result = nativeTestProps(props, value);\n      if (!is(result, 'undefined')) {\n        return result;\n      }\n    }\n\n    // Otherwise do it properly\n    var afterInit, i, propsLength, prop, before;\n\n    // If we don't have a style element, that means we're running async or after\n    // the core tests, so we'll need to create our own elements to use\n\n    // inside of an SVG element, in certain browsers, the `style` element is only\n    // defined for valid tags. Therefore, if `modernizr` does not have one, we\n    // fall back to a less used element and hope for the best.\n    var elems = ['modernizr', 'tspan'];\n    while (!mStyle.style) {\n      afterInit = true;\n      mStyle.modElem = createElement(elems.shift());\n      mStyle.style = mStyle.modElem.style;\n    }\n\n    // Delete the objects if we created them.\n    function cleanElems() {\n      if (afterInit) {\n        delete mStyle.style;\n        delete mStyle.modElem;\n      }\n    }\n\n    propsLength = props.length;\n    for (i = 0; i < propsLength; i++) {\n      prop = props[i];\n      before = mStyle.style[prop];\n\n      if (contains(prop, '-')) {\n        prop = cssToDOM(prop);\n      }\n\n      if (mStyle.style[prop] !== undefined) {\n\n        // If value to test has been passed in, do a set-and-check test.\n        // 0 (integer) is a valid property value, so check that `value` isn't\n        // undefined, rather than just checking it's truthy.\n        if (!skipValueTest && !is(value, 'undefined')) {\n\n          // Needs a try catch block because of old IE. This is slow, but will\n          // be avoided in most cases because `skipValueTest` will be used.\n          try {\n            mStyle.style[prop] = value;\n          } catch (e) {}\n\n          // If the property value has changed, we assume the value used is\n          // supported. If `value` is empty string, it'll fail here (because\n          // it hasn't changed), which matches how browsers have implemented\n          // CSS.supports()\n          if (mStyle.style[prop] != before) {\n            cleanElems();\n            return prefixed == 'pfx' ? prop : true;\n          }\n        }\n        // Otherwise just return true, or the property name if this is a\n        // `prefixed()` call\n        else {\n          cleanElems();\n          return prefixed == 'pfx' ? prop : true;\n        }\n      }\n    }\n    cleanElems();\n    return false;\n  }\n\n  ;\n\n  /**\n   * List of JavaScript DOM values used for tests\n   *\n   * @memberof Modernizr\n   * @name Modernizr._domPrefixes\n   * @optionName Modernizr._domPrefixes\n   * @optionProp domPrefixes\n   * @access public\n   * @example\n   *\n   * Modernizr._domPrefixes is exactly the same as [_prefixes](#modernizr-_prefixes), but rather\n   * than kebab-case properties, all properties are their Capitalized variant\n   *\n   * ```js\n   * Modernizr._domPrefixes === [ \"Moz\", \"O\", \"ms\", \"Webkit\" ];\n   * ```\n   */\n\n  var domPrefixes = (ModernizrProto._config.usePrefixes ? omPrefixes.toLowerCase().split(' ') : []);\n  ModernizrProto._domPrefixes = domPrefixes;\n  \n\n  /**\n   * fnBind is a super small [bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind) polyfill.\n   *\n   * @access private\n   * @function fnBind\n   * @param {function} fn - a function you want to change `this` reference to\n   * @param {object} that - the `this` you want to call the function with\n   * @returns {function} The wrapped version of the supplied function\n   */\n\n  function fnBind(fn, that) {\n    return function() {\n      return fn.apply(that, arguments);\n    };\n  }\n\n  ;\n\n  /**\n   * testDOMProps is a generic DOM property test; if a browser supports\n   *   a certain property, it won't return undefined for it.\n   *\n   * @access private\n   * @function testDOMProps\n   * @param {array.<string>} props - An array of properties to test for\n   * @param {object} obj - An object or Element you want to use to test the parameters again\n   * @param {boolean|object} elem - An Element to bind the property lookup again. Use `false` to prevent the check\n   */\n  function testDOMProps(props, obj, elem) {\n    var item;\n\n    for (var i in props) {\n      if (props[i] in obj) {\n\n        // return the property name as a string\n        if (elem === false) {\n          return props[i];\n        }\n\n        item = obj[props[i]];\n\n        // let's bind a function\n        if (is(item, 'function')) {\n          // bind to obj unless overriden\n          return fnBind(item, elem || obj);\n        }\n\n        // return the unbound function or obj or value\n        return item;\n      }\n    }\n    return false;\n  }\n\n  ;\n\n  /**\n   * testPropsAll tests a list of DOM properties we want to check against.\n   * We specify literally ALL possible (known and/or likely) properties on\n   * the element including the non-vendor prefixed one, for forward-\n   * compatibility.\n   *\n   * @access private\n   * @function testPropsAll\n   * @param {string} prop - A string of the property to test for\n   * @param {string|object} [prefixed] - An object to check the prefixed properties on. Use a string to skip\n   * @param {HTMLElement|SVGElement} [elem] - An element used to test the property and value against\n   * @param {string} [value] - A string of a css value\n   * @param {boolean} [skipValueTest] - An boolean representing if you want to test if value sticks when set\n   */\n  function testPropsAll(prop, prefixed, elem, value, skipValueTest) {\n\n    var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n    props = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\n\n    // did they call .prefixed('boxSizing') or are we just testing a prop?\n    if (is(prefixed, 'string') || is(prefixed, 'undefined')) {\n      return testProps(props, prefixed, value, skipValueTest);\n\n      // otherwise, they called .prefixed('requestAnimationFrame', window[, elem])\n    } else {\n      props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\n      return testDOMProps(props, prefixed, elem);\n    }\n  }\n\n  // Modernizr.testAllProps() investigates whether a given style property,\n  // or any of its vendor-prefixed variants, is recognized\n  //\n  // Note that the property names must be provided in the camelCase variant.\n  // Modernizr.testAllProps('boxSizing')\n  ModernizrProto.testAllProps = testPropsAll;\n\n  \n\n  /**\n   * testAllProps determines whether a given CSS property is supported in the browser\n   *\n   * @memberof Modernizr\n   * @name Modernizr.testAllProps\n   * @optionName Modernizr.testAllProps()\n   * @optionProp testAllProps\n   * @access public\n   * @function testAllProps\n   * @param {string} prop - String naming the property to test (either camelCase or kebab-case)\n   * @param {string} [value] - String of the value to test\n   * @param {boolean} [skipValueTest=false] - Whether to skip testing that the value is supported when using non-native detection\n   * @example\n   *\n   * testAllProps determines whether a given CSS property, in some prefixed form,\n   * is supported by the browser.\n   *\n   * ```js\n   * testAllProps('boxSizing')  // true\n   * ```\n   *\n   * It can optionally be given a CSS value in string form to test if a property\n   * value is valid\n   *\n   * ```js\n   * testAllProps('display', 'block') // true\n   * testAllProps('display', 'penguin') // false\n   * ```\n   *\n   * A boolean can be passed as a third parameter to skip the value check when\n   * native detection (@supports) isn't available.\n   *\n   * ```js\n   * testAllProps('shapeOutside', 'content-box', true);\n   * ```\n   */\n\n  function testAllProps(prop, value, skipValueTest) {\n    return testPropsAll(prop, undefined, undefined, value, skipValueTest);\n  }\n  ModernizrProto.testAllProps = testAllProps;\n  \n/*!\n{\n  \"name\": \"CSS Transforms\",\n  \"property\": \"csstransforms\",\n  \"caniuse\": \"transforms2d\",\n  \"tags\": [\"css\"]\n}\n!*/\n\n  Modernizr.addTest('csstransforms', function() {\n    // Android < 3.0 is buggy, so we sniff and blacklist\n    // http://git.io/hHzL7w\n    return navigator.userAgent.indexOf('Android 2.') === -1 &&\n           testAllProps('transform', 'scale(1)', true);\n  });\n\n\n  /**\n   * testStyles injects an element with style element and some CSS rules\n   *\n   * @memberof Modernizr\n   * @name Modernizr.testStyles\n   * @optionName Modernizr.testStyles()\n   * @optionProp testStyles\n   * @access public\n   * @function testStyles\n   * @param {string} rule - String representing a css rule\n   * @param {function} callback - A function that is used to test the injected element\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n   * @returns {boolean}\n   * @example\n   *\n   * `Modernizr.testStyles` takes a CSS rule and injects it onto the current page\n   * along with (possibly multiple) DOM elements. This lets you check for features\n   * that can not be detected by simply checking the [IDL](https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Interface_development_guide/IDL_interface_rules).\n   *\n   * ```js\n   * Modernizr.testStyles('#modernizr { width: 9px; color: papayawhip; }', function(elem, rule) {\n   *   // elem is the first DOM node in the page (by default #modernizr)\n   *   // rule is the first argument you supplied - the CSS rule in string form\n   *\n   *   addTest('widthworks', elem.style.width === '9px')\n   * });\n   * ```\n   *\n   * If your test requires multiple nodes, you can include a third argument\n   * indicating how many additional div elements to include on the page. The\n   * additional nodes are injected as children of the `elem` that is returned as\n   * the first argument to the callback.\n   *\n   * ```js\n   * Modernizr.testStyles('#modernizr {width: 1px}; #modernizr2 {width: 2px}', function(elem) {\n   *   document.getElementById('modernizr').style.width === '1px'; // true\n   *   document.getElementById('modernizr2').style.width === '2px'; // true\n   *   elem.firstChild === document.getElementById('modernizr2'); // true\n   * }, 1);\n   * ```\n   *\n   * By default, all of the additional elements have an ID of `modernizr[n]`, where\n   * `n` is its index (e.g. the first additional, second overall is `#modernizr2`,\n   * the second additional is `#modernizr3`, etc.).\n   * If you want to have more meaningful IDs for your function, you can provide\n   * them as the fourth argument, as an array of strings\n   *\n   * ```js\n   * Modernizr.testStyles('#foo {width: 10px}; #bar {height: 20px}', function(elem) {\n   *   elem.firstChild === document.getElementById('foo'); // true\n   *   elem.lastChild === document.getElementById('bar'); // true\n   * }, 2, ['foo', 'bar']);\n   * ```\n   *\n   */\n\n  var testStyles = ModernizrProto.testStyles = injectElementWithStyles;\n  \n/*!\n{\n  \"name\": \"CSS Supports\",\n  \"property\": \"supports\",\n  \"caniuse\": \"css-featurequeries\",\n  \"tags\": [\"css\"],\n  \"builderAliases\": [\"css_supports\"],\n  \"notes\": [{\n    \"name\": \"W3 Spec\",\n    \"href\": \"http://dev.w3.org/csswg/css3-conditional/#at-supports\"\n  },{\n    \"name\": \"Related Github Issue\",\n    \"href\": \"github.com/Modernizr/Modernizr/issues/648\"\n  },{\n    \"name\": \"W3 Info\",\n    \"href\": \"http://dev.w3.org/csswg/css3-conditional/#the-csssupportsrule-interface\"\n  }]\n}\n!*/\n\n  var newSyntax = 'CSS' in window && 'supports' in window.CSS;\n  var oldSyntax = 'supportsCSS' in window;\n  Modernizr.addTest('supports', newSyntax || oldSyntax);\n\n/*!\n{\n  \"name\": \"CSS Transforms 3D\",\n  \"property\": \"csstransforms3d\",\n  \"caniuse\": \"transforms3d\",\n  \"tags\": [\"css\"],\n  \"warnings\": [\n    \"Chrome may occassionally fail this test on some systems; more info: https://code.google.com/p/chromium/issues/detail?id=129004\"\n  ]\n}\n!*/\n\n  Modernizr.addTest('csstransforms3d', function() {\n    var ret = !!testAllProps('perspective', '1px', true);\n    var usePrefix = Modernizr._config.usePrefixes;\n\n    // Webkit's 3D transforms are passed off to the browser's own graphics renderer.\n    //   It works fine in Safari on Leopard and Snow Leopard, but not in Chrome in\n    //   some conditions. As a result, Webkit typically recognizes the syntax but\n    //   will sometimes throw a false positive, thus we must do a more thorough check:\n    if (ret && (!usePrefix || 'webkitPerspective' in docElement.style)) {\n      var mq;\n      var defaultStyle = '#modernizr{width:0;height:0}';\n      // Use CSS Conditional Rules if available\n      if (Modernizr.supports) {\n        mq = '@supports (perspective: 1px)';\n      } else {\n        // Otherwise, Webkit allows this media query to succeed only if the feature is enabled.\n        // `@media (transform-3d),(-webkit-transform-3d){ ... }`\n        mq = '@media (transform-3d)';\n        if (usePrefix) {\n          mq += ',(-webkit-transform-3d)';\n        }\n      }\n\n      mq += '{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}';\n\n      testStyles(defaultStyle + mq, function(elem) {\n        ret = elem.offsetWidth === 7 && elem.offsetHeight === 18;\n      });\n    }\n\n    return ret;\n  });\n\n\n  // Run each test\n  testRunner();\n\n  delete ModernizrProto.addTest;\n  delete ModernizrProto.addAsyncTest;\n\n  // Run the things that are supposed to run after the tests\n  for (var i = 0; i < Modernizr._q.length; i++) {\n    Modernizr._q[i]();\n  }\n\n  // Leak Modernizr namespace\n  window.Modernizr = Modernizr;\n\n\n;\n\n})(window, document);\nmodule.exports = window.Modernizr;\n})(window);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../.modernizrrc\n ** module id = 18\n ** module chunks = 0\n **/","const bubbleset = require('./bubbleset');\nconst bubble = require('./bubble');\nconst cursor = require('./cursor');\nconst select = require('./select');\nconst { KEY } = require('./constant');\nconst context = require('../context');\nconst text = require('./text');\n\nexports.init = function (nodeSet) {\n    nodeSet.addEventListener('focus', focus);\n    nodeSet.addEventListener('blur', blur);\n    nodeSet.addEventListener('keyup', keyup);\n    nodeSet.addEventListener('keydown', keydown);\n    nodeSet.addEventListener('keypress', keypress);\n    nodeSet.addEventListener('paste', paste);\n};\n\nexports.destroy = function (nodeSet) {\n    nodeSet.removeEventListener('focus', focus);\n    nodeSet.removeEventListener('blur', blur);\n    nodeSet.removeEventListener('keyup', keyup);\n    nodeSet.removeEventListener('keydown', keydown);\n    nodeSet.removeEventListener('keypress', keypress);\n    nodeSet.removeEventListener('paste', paste);\n};\n\nfunction keyup(event) {\n    const code = event.charCode || event.keyCode;\n    const isPrintableChar = do {\n        if (event.key) {\n            event.key.length === 1;\n        } else {\n            ((code > 47 || code === KEY.Space || code === KEY.Backspace) && code !== KEY.Cmd);\n        }\n    };\n\n    if (isPrintableChar) {\n        event.currentTarget.fireInput();\n    }\n}\n\nfunction keypress(event) {\n    const code = event.charCode || event.keyCode;\n    const nodeSet = event.currentTarget;\n\n    /* eslint no-case-declarations: 0 */\n    switch (code) {\n    case KEY.Enter:\n        event.preventDefault();\n        if (!nodeSet.hasAttribute('disable-controls')) {\n            bubble.bubbling(nodeSet);\n            cursor.restore(nodeSet);\n        }\n        break;\n\n    case KEY.Comma:\n    case KEY.Semicolon:\n        event.preventDefault();\n        bubble.bubbling(nodeSet);\n        cursor.restore(nodeSet);\n        break;\n    }\n}\n\nfunction keydown(event) {\n    const code = event.charCode || event.keyCode;\n    const metaKey = event.ctrlKey || event.metaKey;\n    const nodeSet = event.currentTarget;\n    const enable = !nodeSet.hasAttribute('disable-controls');\n\n    switch (code) {\n    case KEY.Esc:\n        event.preventDefault();\n        bubble.bubbling(nodeSet);\n        cursor.restore(nodeSet);\n        break;\n\n    case KEY.Backspace:\n        event.preventDefault();\n        backSpace(event);\n        break;\n\n    case KEY.Left:\n        event.preventDefault();\n        arrowLeft(event);\n        break;\n\n    // сдвигаем курсор в начало списка\n    case KEY.Top:\n        event.preventDefault();\n        if (enable) {\n            const headBubble = bubbleset.headBubble(nodeSet);\n            headBubble && select.uniq(headBubble);\n        }\n        break;\n\n    case KEY.Right:\n        event.preventDefault();\n        arrowRight(event);\n        break;\n\n    // сдвигаем курсор в конец списка\n    // case KEY.Tab:\n    case KEY.Bottom:\n        event.preventDefault();\n        if (enable && select.has(nodeSet)) {\n            cursor.restore(nodeSet);\n        }\n        break;\n\n    case KEY.a:\n        if (metaKey) {\n            event.preventDefault();\n\n            if (!text.selectAll(null, event.currentTarget)) {\n                select.all(nodeSet);\n            }\n        }\n        break;\n    }\n}\n\nfunction arrowLeft(event) {\n    const selection = context.getSelection();\n\n    if (text.arrowLeft(selection, event.shiftKey)) {\n        return;\n    }\n\n    if (selection.anchorNode && selection.anchorNode.nodeType === Node.TEXT_NODE) {\n        const nodeBubble = bubbleset.prevBubble(selection.anchorNode);\n        nodeBubble && select.uniq(nodeBubble);\n        return;\n    }\n\n    const nodeSet = event.currentTarget;\n    const list = select.get(nodeSet);\n    const begin = do {\n        if (list.length > 1 && list[ 0 ] === nodeSet.startRangeSelect) {\n            list[ list.length - 1 ];\n\n        } else {\n            list[ 0 ];\n        }\n    };\n\n    const node = bubbleset.prevBubble(begin);\n\n    if (node) {\n        if (event.shiftKey) {\n            select.range(node);\n\n        } else {\n            select.uniq(node);\n        }\n    }\n}\n\nfunction arrowRight(event) {\n    const selection = context.getSelection();\n\n    if (text.arrowRight(selection, event.shiftKey)) {\n        return;\n    }\n\n    if (selection.focusNode && selection.focusNode.nodeType === Node.TEXT_NODE) {\n        const nodeBubble = bubbleset.nextBubble(selection.focusNode);\n        nodeBubble && select.uniq(nodeBubble);\n        return;\n    }\n\n    const nodeSet = event.currentTarget;\n    const list = select.get(nodeSet);\n    const begin = do {\n        if (list.length > 1 && list[ list.length - 1 ] === nodeSet.startRangeSelect) {\n            list[ 0 ];\n\n        } else {\n            list[ list.length - 1 ];\n        }\n    };\n\n    const node = bubbleset.nextBubble(begin);\n\n    if (node) {\n        if (event.shiftKey) {\n            select.range(node);\n\n        } else {\n            select.uniq(node);\n        }\n\n    } else if (begin && begin.nextSibling && begin.nextSibling.nodeType === Node.TEXT_NODE) {\n        select.clear(nodeSet);\n        selection.collapse(begin.nextSibling, 0);\n\n    } else {\n        cursor.restore(nodeSet);\n    }\n}\n\nfunction backSpace(event) {\n    const nodeSet = event.currentTarget;\n    nodeSet.normalize();\n\n    const selection = context.getSelection();\n    if (!selection) {\n        return;\n    }\n\n    if (selection.isCollapsed) {\n        if (text.arrowLeft(selection, true)) {\n            text.remove(selection);\n            nodeSet.fireInput();\n            return;\n        }\n\n    } else {\n        text.remove(selection);\n        nodeSet.fireInput();\n        return;\n    }\n\n    let node = bubbleset.findBubbleLeft(selection);\n    if (node) {\n        select.uniq(node);\n        return;\n    }\n\n    const list = select.get(nodeSet);\n\n    if (list.length) {\n        const prevBubble = list[ 0 ].previousSibling;\n        const nextBubble = list[ list.length - 1 ].nextSibling;\n        list.forEach(item => item.parentNode.removeChild(item));\n\n        if (bubble.isBubbleNode(prevBubble)) {\n            select.uniq(prevBubble);\n\n        } else if (bubble.isBubbleNode(nextBubble)) {\n            select.uniq(nextBubble);\n\n        } else {\n            nodeSet.focus();\n            cursor.restore(nodeSet);\n        }\n\n        nodeSet.fireChange();\n    }\n}\n\nfunction paste(event) {\n    event.preventDefault();\n\n    const clipboardData = event.clipboardData;\n    if (!clipboardData) {\n        return;\n    }\n\n    const contentType = 'text/plain';\n    let data = clipboardData.getData && clipboardData.getData(contentType);\n\n    if (!text.replaceString(data) && clipboardData.items) {\n        Array.prototype.slice.call(clipboardData.items)\n            .filter(item => item.kind === 'string' && item.type === contentType)\n            .some(function (item) {\n                item.getAsString(text.replaceString);\n                return true;\n            });\n    }\n}\n\nfunction blur(event) {\n    select.clear(event.currentTarget);\n    bubble.bubbling(event.currentTarget);\n}\n\nfunction focus(event) {\n    cursor.restore(event.currentTarget);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/editor.js\n **/","/**\n * @module x-bubbles/cursor\n */\n\nconst context = require('../context');\nconst text = require('./text');\nconst select = require('./select');\n\nexports.restore = restore;\nexports.restoreBasis = restoreBasis;\n\n/**\n * Reset the cursor position to the end of the input field.\n * @alias module:x-bubbles/cursor.restore\n * @param {HTMLElement} nodeSet\n */\nfunction restore(nodeSet) {\n    select.clear(nodeSet);\n    const basis = restoreBasis(nodeSet);\n    const selection = context.getSelection();\n    selection.removeAllRanges();\n    selection.collapse(basis, 1);\n}\n\n/**\n * The creation of the fake text at the end childNodes\n * @alias module:x-bubbles/cursor.restoreBasis\n * @param {HTMLElement} nodeSet\n * @returns {HTMLTextElement} fake text node\n */\nfunction restoreBasis(nodeSet) {\n    let fakeText = text.createZws();\n\n    if (nodeSet.hasChildNodes()) {\n        const lastNode = nodeSet.childNodes[ nodeSet.childNodes.length - 1 ];\n\n        if (lastNode.isEqualNode(fakeText)) {\n            fakeText = lastNode;\n\n        } else {\n            nodeSet.appendChild(fakeText);\n        }\n\n    } else {\n        nodeSet.appendChild(fakeText);\n    }\n\n    return fakeText;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/cursor.js\n **/","const bubbleset = require('../bubbleset');\nconst bubble = require('../bubble');\n\nmodule.exports = function (event) {\n    const nodeSet = bubbleset.closestNodeSet(event.target);\n\n    if (!nodeSet) {\n        return;\n    }\n\n    const nodeBubble = bubbleset.closestNodeBubble(event.target);\n\n    if (!nodeBubble) {\n        return;\n    }\n\n    event.preventDefault();\n\n    bubble.edit(nodeSet, nodeBubble);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/events/dblclick.js\n **/","const context = require('../../context');\nconst bubbleset = require('../bubbleset');\nconst select = require('../select');\nconst cursor = require('../cursor');\n\nmodule.exports = function (event) {\n    const nodeSet = bubbleset.closestNodeSet(event.target);\n\n    if (!nodeSet) {\n        return;\n    }\n\n    const nodeBubble = bubbleset.closestNodeBubble(event.target);\n\n    if (!nodeBubble) {\n        select.clear(nodeSet);\n\n        const selection = context.getSelection();\n\n        if (!selection ||\n            !selection.anchorNode ||\n            selection.anchorNode.nodeType !== Node.TEXT_NODE) {\n\n            cursor.restore(nodeSet);\n        }\n\n        return;\n    }\n\n    if (event.metaKey || event.ctrlKey) {\n        select.add(nodeBubble);\n\n    } else if (event.shiftKey) {\n        if (!nodeSet.startRangeSelect) {\n            select.uniq(nodeBubble);\n\n        } else {\n            select.range(nodeBubble);\n        }\n\n    } else {\n        select.toggleUniq(nodeBubble);\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/events/click.js\n **/"],"sourceRoot":""}